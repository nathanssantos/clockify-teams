(this["webpackJsonpclockify-teams"]=this["webpackJsonpclockify-teams"]||[]).push([[0],{202:function(e,t,a){},239:function(e,t,a){},245:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){},357:function(e,t,a){},358:function(e,t,a){},360:function(e,t,a){},361:function(e,t,a){},362:function(e,t,a){},363:function(e,t,a){},364:function(e,t,a){},365:function(e,t,a){},366:function(e,t,a){},367:function(e,t,a){},368:function(e,t,a){},373:function(e,t,a){"use strict";a.r(t);var r=a(0),i=a.n(r),n=a(18),c=a.n(n),s=(a(202),a(20)),o=a.n(s),l=a(42),u=a(11),d=a(5),j=a(13),h=a(33),b=a(174),m=a(126),v=a.n(m),f=v.a.create({baseURL:"https://api.clockify.me/api/v1",timeout:1e4}),O=v.a.create({baseURL:"https://reports.api.clockify.me/",timeout:1e4}),p=f,x=a(9),g=a(10),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=JSON.parse(localStorage.getItem("clockify-teams@".concat(e)))||{},a=function(t){localStorage.setItem("clockify-teams@".concat(e),JSON.stringify(t))};return[t,a]},_=function(){function e(t){if(Object(x.a)(this,e),this.id=null,this.name=null,this.email=null,this.defaultWorkspace=null,this.profilePicture=null,this.timeEntries=[],this.timeEntriesByDay=[],this.teams=[],this.hours=null,this.warnings={},Object(d.makeObservable)(this,{id:d.observable,name:d.observable,email:d.observable,defaultWorkspace:d.observable,profilePicture:d.observable,timeEntries:d.observable,timeEntriesByDay:d.observable,teams:d.observable,hours:d.observable,warnings:d.observable}),null==t||null==t.id)throw new Error("Invalid user constructor");var a=t.id,r=t.name,i=t.email,n=t.defaultWorkspace,c=t.profilePicture,s=t.timeEntries,o=t.timeEntriesByDay,l=t.teams,u=t.hours,j=t.warnings;this.id=a,this.name=r||"",this.email=i||"",this.defaultWorkspace=n||"",this.profilePicture=c||"",this.timeEntries=s||[],this.timeEntriesByDay=o||[],this.teams=l||[],this.hours=u||0,this.warnings=j||{}}return Object(g.a)(e,null,[{key:"fromApi",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,r=t.name,i=t.email,n=t.defaultWorkspace,c=t.profilePicture,s=t.timeEntries,o=t.timeEntriesByDay,l=t.teams,u=t.hours,d=t.warnings;return new e({id:a,name:r,email:i,defaultWorkspace:n,profilePicture:c,timeEntries:s,timeEntriesByDay:o,teams:l,hours:u,warnings:d})}}]),e}(),S=function(){function e(){Object(x.a)(this,e),this.user=null,this.authStatus="unauthenticated",this.autoLogin=!1,this.fetchDataLog=[],Object(d.makeObservable)(this,{user:d.observable,authStatus:d.observable,autoLogin:d.observable,fetchDataLog:d.observable,isAuthenticated:d.computed,isConfirmingIdentity:d.computed,isUnauthenticated:d.computed,setUser:d.action.bound,confirmIdentity:d.action.bound,unauthenticate:d.action.bound,setAutoLogin:d.action.bound,feedFetchDataLog:d.action.bound,setStatusConfirmingIdentity:d.action.bound,clearDataLog:d.action.bound,authenticate:d.flow})}return Object(g.a)(e,[{key:"isAuthenticated",get:function(){return"authenticated"===this.authStatus}},{key:"isConfirmingIdentity",get:function(){return"confirming-identity"===this.authStatus}},{key:"isUnauthenticated",get:function(){return"unauthenticated"===this.authStatus}},{key:"setUser",value:function(e){this.user=_.fromApi(e)}},{key:"confirmIdentity",value:function(){this.authStatus="authenticated"}},{key:"setAutoLogin",value:function(e){this.autoLogin=e}},{key:"feedFetchDataLog",value:function(e,t){var a="";switch(t){case"success":a="#27ae60";break;case"error":a="#c0392b";break;default:a="#ffffff"}"string"===typeof e&&e.length&&this.fetchDataLog.push({text:e,color:a})}},{key:"clearDataLog",value:function(){this.fetchDataLog=[]}},{key:"setStatusConfirmingIdentity",value:function(){this.authStatus="confirming-identity"}},{key:"unauthenticate",value:function(){this.authStatus="unauthenticated",this.user=null,Object(j.getEnv)().defaults.headers.common["X-Api-Key"]=null}},{key:"authenticate",value:o.a.mark((function e(t){var a,r,i,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=y("clockify-api-key"),r=Object(u.a)(a,2),i=r[1],Object(j.getEnv)().defaults.headers.common["X-Api-Key"]=t,O.defaults.headers.common["X-Api-Key"]=t,i(t),e.next=7,Object(j.getEnv)().get("/user");case 7:if(200===(null===(n=e.sent)||void 0===n?void 0:n.status)){e.next=11;break}return alert("Invalid Clockify API Key"),e.abrupt("return",!1);case 11:if(!(null===n||void 0===n?void 0:n.data)){e.next=15;break}return this.setUser(n.data),this.authStatus="confirming-identity",e.abrupt("return",!0);case 15:return this.unauthenticate(),e.abrupt("return",!1);case 19:return e.prev=19,e.t0=e.catch(0),console.log(e.t0),this.unauthenticate(),alert("Invalid Clockify API Key"),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,this,[[0,19]])}))}]),e}(),N=a(21),w=a(14),k=a(12),E=function(e){try{var t=null===e||void 0===e?void 0:e.split("H"),a=0,r=0;if(null===t||void 0===t?void 0:t.length)return 2===(null===t||void 0===t?void 0:t.length)?(a=Number(t[0].split("PT")[1])||0,r=Number(t[1].split("M")[0])||0):"PT0S"!==t[0]&&(r=Number(t[0].replace("PT","").replace("M",""))),Number(a+r/60)}catch(i){console.log(i)}},L=function(e){try{var t=null===e||void 0===e?void 0:e.split("T");if(null===t||void 0===t?void 0:t.length){var a=t[0].split("-");return"".concat(a[2],"/").concat(a[1],"/").concat(a[0])}}catch(r){console.log(r)}},C={NO_PROJECT:"Entrada sem projeto",NO_DESCRIPTION:"Entrada sem descri\xe7\xe3o",TIME_LIMIT:"Entrada maior que 6 horas"},D=function(){function e(){Object(x.a)(this,e),this.userList=[],this.queryStartDate=null,this.queryEndDate=null,Object(d.makeObservable)(this,{userList:d.observable,queryStartDate:d.observable,queryEndDate:d.observable,setUserList:d.action.bound,formatUserData:d.action.bound,getUsersTeams:d.action.bound,fetchUserList:d.flow,fetchUserTimeEntries:d.flow,fetchUserSummaryReport:d.flow})}return Object(g.a)(e,[{key:"setUserList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.userList=e.map((function(e){return _.fromApi(e)}))}},{key:"setQueryDate",value:function(e,t){this.queryStartDate=e,this.queryEndDate=t}},{key:"fetchUserTimeEntries",value:o.a.mark((function e(){var t,a,r,i,n,c,s,l,u,d,h,b,m,v=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:{},a=t.id,r=t.name,i=t.pageSize,n=void 0===i?1e3:i,c=C.NO_DESCRIPTION,s=C.NO_PROJECT,l=C.TIME_LIMIT,e.prev=3,Object(j.getRoot)().authStore.feedFetchDataLog("fetching user ".concat(r," time entries...")),u=Object(j.getRoot)().authStore.user.defaultWorkspace,e.next=8,Object(j.getEnv)().get("/workspaces/".concat(u,"/user/").concat(a,"/time-entries"),{params:{start:this.queryStartDate,end:this.queryEndDate,"page-size":n}});case 8:if(200===(d=e.sent).status){e.next=12;break}return Object(j.getRoot)().authStore.feedFetchDataLog("fetch user ".concat(r," time entries error"),"error"),e.abrupt("return",!1);case 12:if(!(null===d||void 0===d?void 0:d.data)){e.next=19;break}return h=0,b={},Object.keys(C).forEach((function(e){b[e]=0})),m=d.data.map((function(e){var t,a,r,i=null===e||void 0===e||null===(t=e.timeInterval)||void 0===t?void 0:t.duration,n=Object(k.a)(Object(k.a)({},e),{},{warnings:[]});if((null===e||void 0===e||null===(a=e.projectId)||void 0===a?void 0:a.length)||(n.warnings.push(s),b.NO_PROJECT++),(null===e||void 0===e||null===(r=e.description)||void 0===r?void 0:r.length)||(n.warnings.push(c),b.NO_DESCRIPTION++),null===i||void 0===i?void 0:i.length){var o=E(i);o&&(h+=o,o>=6&&(n.warnings.push(l),b.TIME_LIMIT++))}return n})),Object(j.getRoot)().authStore.feedFetchDataLog("fetch user ".concat(r," time entries success"),"success"),e.abrupt("return",{timeEntries:m,hours:h,warnings:b});case 19:return Object(j.getRoot)().authStore.feedFetchDataLog("fetch user ".concat(r," time entries error"),"error"),e.abrupt("return",!1);case 23:return e.prev=23,e.t0=e.catch(3),console.log(e.t0),Object(j.getRoot)().authStore.feedFetchDataLog("fetch user ".concat(r," time entries error"),"error"),e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e,this,[[3,23]])}))},{key:"formatUserData",value:function(e){try{var t,a=[],r=Object(w.a)(e.timeEntries);try{var i=function(){var e,r,i=t.value,n=null===i||void 0===i||null===(e=i.timeInterval)||void 0===e?void 0:e.duration,c=null===i||void 0===i||null===(r=i.timeInterval)||void 0===r?void 0:r.start,s=Object(j.getRoot)().projectStore.projectList.find((function(e){return e.id===(null===i||void 0===i?void 0:i.projectId)})),o=a.find((function(e){return e.date===L(c)}));(null===n||void 0===n?void 0:n.length)&&(null===c||void 0===c?void 0:c.length)&&(o?a=a.map((function(e){return e.date===L(c)?{date:e.date,timeEntries:[].concat(Object(N.a)(e.timeEntries),[Object(k.a)(Object(k.a)({},i),{},{project:s||{name:"Sem projeto",color:"#ffffff"}})]),hours:e.hours+E(n)}:e})):a.push({date:L(c),timeEntries:[Object(k.a)(Object(k.a)({},i),{},{project:s||{name:"Sem projeto",color:"#ffffff"}})],hours:E(n)}))};for(r.s();!(t=r.n()).done;)i()}catch(n){r.e(n)}finally{r.f()}return Object(k.a)(Object(k.a)({},e),{},{timeEntriesByDay:a})}catch(c){return console.log(c),!1}}},{key:"getUsersTeams",value:function(){var e,t=[],a=Object(w.a)(this.userList);try{for(a.s();!(e=a.n()).done;){var r,i=e.value,n=[],c=Object(w.a)(Object(j.getRoot)().teamStore.teamList);try{for(c.s();!(r=c.n()).done;){var s,o=r.value,l=Object(w.a)(o.users);try{for(l.s();!(s=l.n()).done;){s.value.id===i.id&&n.push(o)}}catch(u){l.e(u)}finally{l.f()}}}catch(u){c.e(u)}finally{c.f()}t.push(Object(k.a)(Object(k.a)({},i),{},{teams:n}))}}catch(u){a.e(u)}finally{a.f()}this.setUserList(t)}},{key:"fetchUserList",value:o.a.mark((function e(){var t,a,r,i,n,c,s,l,u,d,h,b,m=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},e.prev=1,Object(j.getRoot)().authStore.feedFetchDataLog("fetching user list..."),r=t.pageSize,i=void 0===r?1e3:r,n=Object(j.getRoot)().authStore.user.defaultWorkspace,e.next=7,Object(j.getEnv)().get("/workspaces/".concat(n,"/users"),{params:{"page-size":i,status:"ACTIVE"}});case 7:if(200===(c=e.sent).status){e.next=11;break}return Object(j.getRoot)().authStore.feedFetchDataLog("fetch user list error","error"),e.abrupt("return",!1);case 11:if(!(null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.length)){e.next=37;break}Object(j.getRoot)().authStore.feedFetchDataLog("fetch user list success","success"),s=[],l=Object(w.a)(c.data),e.prev=15,l.s();case 17:if((u=l.n()).done){e.next=25;break}return d=u.value,e.next=21,this.fetchUserTimeEntries(d);case 21:(h=e.sent)&&(b=this.formatUserData(Object(k.a)(Object(k.a)({},d),h)),s.push(b));case 23:e.next=17;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(15),l.e(e.t0);case 30:return e.prev=30,l.f(),e.finish(30);case 33:if(!s.length){e.next=37;break}return this.setUserList(s),Object(j.getRoot)().authStore.feedFetchDataLog("fetch all users time entries success","success"),e.abrupt("return",!0);case 37:return Object(j.getRoot)().authStore.feedFetchDataLog("fetch user list error","error"),e.abrupt("return",!1);case 41:return e.prev=41,e.t1=e.catch(1),console.log(e.t1),Object(j.getRoot)().authStore.feedFetchDataLog("fetch user list error","error"),e.abrupt("return",!1);case 46:case"end":return e.stop()}}),e,this,[[1,41],[15,27,30,33]])}))},{key:"fetchUserSummaryReport",value:o.a.mark((function e(t){var a,r,i,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(j.getRoot)().authStore.user.defaultWorkspace,e.next=4,O.post("/workspaces/".concat(a,"/reports/summary"),{amountShown:"HIDE_AMOUNT",dateRangeStart:this.queryStartDate,dateRangeEnd:this.queryEndDate,exportType:"PDF",summaryFilter:{groups:["PROJECT","TIMEENTRY"]},users:{ids:[t.id],contains:"CONTAINS",status:"ALL"},userLocale:"pt_BR"},{responseType:"blob"});case 4:return r=e.sent,i=new Blob([r.data],{type:"application/pdf"}),n=window.URL.createObjectURL(i),window.open(n),e.abrupt("return",!1);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),Object(j.getRoot)().authStore.feedFetchDataLog("fetch user list error","error"),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,this,[[0,11]])}))}]),e}(),P=function(){function e(t){if(Object(x.a)(this,e),this.id=null,this.name=null,this.email=null,this.workspaceId=null,this.color=null,this.duration=null,this.estimate=null,this.users=[],this.timeEntriesByUser=[],Object(d.makeObservable)(this,{id:d.observable,name:d.observable,email:d.observable,workspaceId:d.observable,color:d.observable,duration:d.observable,estimate:d.observable,users:d.observable,timeEntriesByUser:d.observable}),null==t||null==t.id)throw new Error("Invalid Project constructor");var a=t.id,r=t.name,i=t.email,n=t.workspaceId,c=t.color,s=t.duration,o=t.estimate,l=t.users,u=t.timeEntriesByUser;this.id=a,this.name=r||"",this.email=i||"",this.workspaceId=n||"",this.color=c||"",this.duration=s||"",this.estimate=o||"",this.users=l||[],this.timeEntriesByUser=u||[]}return Object(g.a)(e,null,[{key:"fromApi",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,r=t.name,i=t.email,n=t.workspaceId,c=t.color,s=t.duration,o=t.estimate,l=t.users,u=t.timeEntriesByUser;return new e({id:a,name:r,email:i,workspaceId:n,color:c,duration:s,estimate:o,users:l,timeEntriesByUser:u})}}]),e}(),T=function(){function e(){Object(x.a)(this,e),this.projectList=[],Object(d.makeObservable)(this,{projectList:d.observable,setProjectList:d.action.bound,formatProjectData:d.action.bound,formatProjectList:d.action.bound,fetchProjectList:d.flow})}return Object(g.a)(e,[{key:"setProjectList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.projectList=e.map((function(e){return P.fromApi(e)}))}},{key:"formatProjectData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=function(){var t,a=e.id,r=[],i=Object(w.a)(Object(j.getRoot)().userStore.userList);try{for(i.s();!(t=i.n()).done;){var n,c=t.value,s=c.timeEntries.filter((function(e){return e.projectId===a})),o=Object(w.a)(s);try{var l=function(){var e,t=n.value,a=r.find((function(e){return e.id===t.userId})),i=0,s=null===t||void 0===t||null===(e=t.timeInterval)||void 0===e?void 0:e.duration;(null===s||void 0===s?void 0:s.length)&&(i+=E(s)),a?r=r.map((function(e){return e.id===t.userId?Object(k.a)(Object(k.a)({},e),{},{timeEntries:[].concat(Object(N.a)(e.timeEntries),[t]),hours:e.hours+i}):e})):r.push(Object(k.a)(Object(k.a)({},c),{},{timeEntries:[t],hours:i}))};for(o.s();!(n=o.n()).done;)l()}catch(u){o.e(u)}finally{o.f()}}}catch(u){i.e(u)}finally{i.f()}return{v:Object(k.a)(Object(k.a)({},e),{},{timeEntriesByUser:r})}}();if("object"===typeof t)return t.v}catch(a){return console.log(a),!1}}},{key:"formatProjectList",value:function(){var e,t=[],a=Object(w.a)(this.projectList);try{for(a.s();!(e=a.n()).done;){var r=e.value,i=this.formatProjectData(r);t.push(i)}}catch(n){a.e(n)}finally{a.f()}this.setProjectList(t)}},{key:"fetchProjectList",value:o.a.mark((function e(){var t,a,r,i,n,c,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},e.prev=1,Object(j.getRoot)().authStore.feedFetchDataLog("fetching project list..."),r=t.pageSize,i=void 0===r?1e3:r,n=Object(j.getRoot)().authStore.user.defaultWorkspace,e.next=7,Object(j.getEnv)().get("/workspaces/".concat(n,"/projects"),{params:{archived:!1,"page-size":i}});case 7:if(200===(c=e.sent).status){e.next=11;break}return Object(j.getRoot)().authStore.feedFetchDataLog("fetch project list error","error"),e.abrupt("return",!1);case 11:if(!(null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.length)){e.next=15;break}return this.setProjectList(c.data),Object(j.getRoot)().authStore.feedFetchDataLog("fetch project list success","success"),e.abrupt("return",!0);case 15:return e.abrupt("return",!1);case 18:return e.prev=18,e.t0=e.catch(1),console.log(e.t0),Object(j.getRoot)().authStore.feedFetchDataLog("fetch project list error","error"),e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e,this,[[1,18]])}))}]),e}(),I=function(){function e(t){if(Object(x.a)(this,e),this.id=null,this.name=null,this.image=null,this.users=[],this.timeEntriesByProject=[],Object(d.makeObservable)(this,{id:d.observable,name:d.observable,image:d.observable,users:d.observable,timeEntriesByProject:d.observable}),null==t||null==t.id)throw new Error("Invalid Team constructor");var a=t.id,r=t.name,i=t.image,n=t.users,c=t.timeEntriesByProject;this.id=a,this.name=r||"",this.image=i||"",this.users=n||[],this.timeEntriesByProject=c||[]}return Object(g.a)(e,null,[{key:"fromApi",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,r=t.name,i=t.image,n=t.users,c=t.timeEntriesByProject;return new e({id:a,name:r,image:i,users:n,timeEntriesByProject:c})}}]),e}(),B=function(){function e(){Object(x.a)(this,e),this.teamList=[],Object(d.makeObservable)(this,{teamList:d.observable,setTeamList:d.action.bound,createTeam:d.action.bound,editTeam:d.action.bound,fetchTeamList:d.action.bound,formatTeamData:d.action.bound})}return Object(g.a)(e,[{key:"createTeam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=e.users,a=y("team-list"),r=Object(u.a)(a,2),i=r[0],n=r[1],c=i||[],s=1;return c.length?(s=c.length+1,n([].concat(Object(N.a)(c),[Object(k.a)(Object(k.a)({},e),{},{id:s,users:t.map((function(e){return e.id}))})]))):n([Object(k.a)(Object(k.a)({},e),{},{id:1,users:t.map((function(e){return e.id}))})]),s}catch(o){return console.log(o),!1}finally{this.fetchTeamList()}}},{key:"editTeam",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=y("team-list"),r=Object(u.a)(a,2),i=r[0],n=r[1],c=t.users;return n(i.map((function(t){return t.id===e?Object(k.a)(Object(k.a)(Object(k.a)({},t),t),{},{users:c.map((function(e){return e.id}))}):t}))),e}catch(s){return console.log(s),!1}finally{this.fetchTeamList()}}},{key:"removeTeam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=y("team-list"),a=Object(u.a)(t,2),r=a[0],i=a[1],n=r.filter((function(t){return t.id!==e.id}));i(n),this.setTeamList(n.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{users:Object(j.getRoot)().userStore.userList.filter((function(t){return e.users.includes(t.id)}))})})))}catch(c){console.log(c)}}},{key:"setTeamList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.teamList=e.map((function(e){return I.fromApi(e)}))}},{key:"fetchTeamList",value:function(){var e=this;try{Object(j.getRoot)().authStore.feedFetchDataLog("fetching team list...");var t=y("team-list"),a=Object(u.a)(t,1)[0];if(a.length){var r,i=[],n=Object(w.a)(a);try{var c=function(){var t=r.value,a=e.formatTeamData(t);i.push(Object(k.a)(Object(k.a)({},a),{},{users:Object(j.getRoot)().userStore.userList.filter((function(e){return t.users.includes(e.id)}))}))};for(n.s();!(r=n.n()).done;)c()}catch(s){n.e(s)}finally{n.f()}this.setTeamList(i),Object(j.getRoot)().authStore.feedFetchDataLog("fetch team list success","success")}return!1}catch(o){return console.log(o),Object(j.getRoot)().authStore.feedFetchDataLog("fetch team list error","error"),!1}}},{key:"formatTeamData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t,a=[],r=[],i=Object(w.a)(e.users);try{var n=function(){var e=t.value,i=Object(j.getRoot)().userStore.userList.find((function(t){return t.id===e}));if(i){var n,c=i.timeEntries,s=i.hours,o=Object(w.a)(c);try{var l=function(){var e,t=n.value,a=r.find((function(e){return e.id===t.projectId})),i=0,c=null===t||void 0===t||null===(e=t.timeInterval)||void 0===e?void 0:e.duration;(null===c||void 0===c?void 0:c.length)&&(i+=E(c)),a?r=r.map((function(e){return e.id===t.projectId?Object(k.a)(Object(k.a)({},e),{},{id:t.projectId,timeEntries:[].concat(Object(N.a)(e.timeEntries),[t]),hours:e.hours+i}):e})):r.push({id:t.projectId,timeEntries:[t],hours:i})};for(o.s();!(n=o.n()).done;)l()}catch(d){o.e(d)}finally{o.f()}var u=Object(j.getRoot)().userStore.userList.find((function(t){return t.id===e.id}));a.push(Object(k.a)(Object(k.a)({},u),{},{timeEntries:c,hours:s}))}};for(i.s();!(t=i.n()).done;)n()}catch(u){i.e(u)}finally{i.f()}var c,s=0,o=Object(w.a)(r);try{var l=function(){var e=c.value;if(e.id){var t=Object(j.getRoot)().projectStore.projectList.find((function(t){return t.id===e.id}));t&&(r[s]=Object(k.a)(Object(k.a)({},r[s]),{},{name:t.name,color:t.color}))}else r[s]=Object(k.a)(Object(k.a)({},r[s]),{},{name:"Sem projeto",color:"#ffffff"});s++};for(o.s();!(c=o.n()).done;)l()}catch(u){o.e(u)}finally{o.f()}return Object(k.a)(Object(k.a)({},e),{},{users:a,timeEntriesByProject:r})}catch(d){return console.log(d),!1}}}]),e}(),R=function(){function e(){Object(x.a)(this,e),this.authStore=null,this.userStore=null,this.projectStore=null,this.teamStore=null}return Object(g.a)(e,[{key:"init",value:function(){this.authStore=new S,this.userStore=new D,this.projectStore=new T,this.teamStore=new B}}]),e}(),F=Object(r.createContext)({}),U=F.Provider,q=function(){return Object(r.useContext)(F)},A=a(35),W=a(23),M=a(19),z=a(403),H=a(398),J=(a(239),a(1)),K=[{route:"/",label:"Colaboradores"},{route:"/teams",label:"Equipes"},{route:"/projects",label:"Projetos"}],V=function(e){var t=e.vertical,a=e.drawer,r=Object(W.f)();return Object(J.jsx)("nav",{className:"menu ".concat(t?"vertical":""),children:Object(J.jsx)("ul",{className:"menu__list",children:K.map((function(e){return Object(J.jsx)("li",{className:"menu__list__item",children:Object(J.jsx)(H.a,{className:"menu__list__item__button",fullWidth:t,color:"primary",onClick:function(){return t=e.route,r.push(t),void(a&&a.close());var t},children:e.label})},e.route)}))})})},X=a(431),Y=a(170),Q=a.n(Y),Z=(a(245),function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],i=t[1],n=function(){i(!0)},c=function(){i(!1)};return Object(J.jsxs)("div",{className:"drawer",children:[Object(J.jsx)(H.a,{onClick:n,children:Object(J.jsx)(Q.a,{color:"primary"})}),Object(J.jsx)(X.a,{anchor:"left",open:a,onClose:c,onOpen:n,children:Object(J.jsx)("div",{className:"drawer__content",children:Object(J.jsx)(V,{vertical:!0,drawer:{close:c}})})})]})}),G=(a(249),function(){return Object(J.jsx)("div",{className:"logo",children:"Clockify Teams"})}),$=(a(250),Object(M.a)((function(){return Object(J.jsx)("header",{className:"header",children:Object(J.jsx)(z.a,{maxWidth:"lg",children:Object(J.jsxs)("div",{className:"header__content",children:[Object(J.jsx)(G,{}),Object(J.jsx)("div",{className:"header__menu",children:Object(J.jsx)(V,{})}),Object(J.jsx)("div",{className:"header__drawer",children:Object(J.jsx)(Z,{})})]})})})}))),ee=a(412),te=a(414),ae=a(415),re=a(416),ie=a(417),ne=a(418),ce=a(411),se=a(413),oe=a(26),le=a.n(oe),ue=a(433),de=a(407),je=a(408),he=a(410),be=a(434),me=a(404),ve=a(405),fe=a(406),Oe=a(409),pe=(a(251),function(e){var t,a=q(),i=e.hours,n=e.warnings,c=e.user,s=e.pdf,j=Object(r.useState)(!1),h=Object(u.a)(j,2),b=h[0],m=h[1],v=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,Object(d.flowResult)(a.userStore.fetchUserSummaryReport(c));case 3:m(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(J.jsxs)("div",{className:"user__meta",children:[Object(J.jsx)(ue.a,{arrow:!0,placement:"left",title:"Horas trabalhadas no per\xedodo selecionado",children:Object(J.jsxs)("div",{className:"user__meta__item",style:{color:i>=200?"#f44336":"#ffffff"},children:[i.toFixed(2),Object(J.jsx)(me.a,{color:i>=200?"error":""})]})}),(null===(t=Object.entries(n).filter((function(e){var t=Object(u.a)(e,2);t[0];return t[1]>0})))||void 0===t?void 0:t.length)?Object(J.jsx)(ue.a,{arrow:!0,interactive:!0,placement:"left",title:Object(J.jsx)("ul",{className:"warning-list",children:Object.entries(n).filter((function(e){var t=Object(u.a)(e,2);t[0];return t[1]>0})).map((function(e){var t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(J.jsx)("li",{className:"warning-list__item",children:"".concat(r,"x ").concat(C[a])},C[a])}))}),children:Object(J.jsx)("div",{className:"user__meta__item",children:Object(J.jsx)(ve.a,{color:"error"})})}):Object(J.jsx)("div",{className:"user__meta__item",children:Object(J.jsx)(fe.a,{color:"secondary"})}),s?Object(J.jsx)(ue.a,{arrow:!0,placement:"left",title:"Visualizar relat\xf3rio",children:b?Object(J.jsx)(de.a,{style:{width:20,height:20,margin:14}}):Object(J.jsx)(je.a,{onClick:v,children:Object(J.jsx)(Oe.a,{})})}):null]})}),xe=Object(M.a)((function(e){var t=e.id,a=e.name,r=void 0===a?"":a,i=e.lastName,n=void 0===i?"":i,c=e.profilePicture,s=void 0===c?"":c,o=e.email,l=void 0===o?"":o,u=e.showMeta,d=void 0!==u&&u,j=e.pdf,h=void 0!==j&&j,b=e.disabled,m=void 0!==b&&b,v=e.hours,f=void 0===v?0:v,O=e.warnings,p=void 0===O?{}:O,x=Object(W.f)();return Object(J.jsxs)(he.a,{className:"user",children:[Object(J.jsxs)("div",{className:"user__pressable",onClick:function(){return m?null:x.push("/users/".concat(t))},style:{pointerEvents:m?"none":"initial"},children:[Object(J.jsx)(be.a,{alt:r,src:s,className:"user__avatar"}),Object(J.jsxs)("div",{className:"user__profile",children:[Object(J.jsx)("div",{className:"user__name",children:r}),Object(J.jsx)("div",{className:"user__email",children:l})]})]}),d?Object(J.jsx)(pe,{pdf:h,hours:f,warnings:p,user:{id:t,name:r,lastName:n,email:l}}):null]})})),ge=a(105),ye=function(e){var t=e.data,a=void 0===t?{}:t;return Object(J.jsx)(ge.a,{data:a,options:{responsive:!0,indexAxis:"y",scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!1}}}})},_e=(a(357),Object(M.a)((function(){var e,t,a=q(),i=Object(W.g)(),n=Object(W.f)(),c=Object(r.useState)(!1),s=Object(u.a)(c,2),o=s[0],l=s[1],d=a.teamStore.teamList.find((function(e){return e.id===Number(i.id)})),j=function(){l(!1)};return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]),d?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)("div",{className:"screen team-detail",children:[Object(J.jsxs)(z.a,{maxWidth:"lg",children:[Object(J.jsxs)("header",{className:"screen__header",children:[Object(J.jsxs)("div",{className:"screen__header__left",children:[Object(J.jsx)(be.a,{alt:null===d||void 0===d?void 0:d.name,src:null===d||void 0===d?void 0:d.image,className:"team-detail__avatar"}),Object(J.jsx)("h2",{children:null===d||void 0===d?void 0:d.name})]}),Object(J.jsx)("div",{className:"screen__header__right",children:Object(J.jsx)(H.a,{onClick:function(){l(!0)},children:Object(J.jsx)(ce.a,{})})})]}),Object(J.jsxs)("main",{children:[(null===(e=d.timeEntriesByProject)||void 0===e?void 0:e.length)?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)("div",{className:"team-detail__chart",children:[Object(J.jsx)("header",{className:"section-header",children:Object(J.jsx)("h3",{children:"Horas por projeto"})}),Object(J.jsx)(ye,{data:{labels:le.a.orderBy(d.timeEntriesByProject,"hours","desc").map((function(e){return e.name})),datasets:[{label:"Horas",data:le.a.orderBy(d.timeEntriesByProject,"hours","desc").map((function(e){return(null===e||void 0===e?void 0:e.hours)?e.hours.toFixed(2):0})),backgroundColor:le.a.orderBy(d.timeEntriesByProject,"hours","desc").map((function(e){return"".concat(e.color,"85")})),borderWidth:0}]}})]}),Object(J.jsxs)("div",{className:"team-detail__chart",children:[Object(J.jsx)("header",{className:"section-header",children:Object(J.jsx)("h3",{children:"Horas por colaborador"})}),Object(J.jsx)(ye,{data:{labels:le.a.orderBy(d.users,"hours","desc").map((function(e){return e.name})),datasets:[{label:"Horas",data:le.a.orderBy(d.users,"hours","desc").map((function(e){return(null===e||void 0===e?void 0:e.hours)?e.hours.toFixed(2):0})),backgroundColor:["rgba(255, 255, 255, 0.08)"],borderWidth:0}]}})]})]}):null,Object(J.jsxs)("div",{className:"user-list",children:[Object(J.jsx)("header",{className:"section-header",children:Object(J.jsx)("h3",{children:"Colaboradores na equipe"})}),(null===d||void 0===d||null===(t=d.users)||void 0===t?void 0:t.length)?d.users.map((function(e){return Object(J.jsx)(xe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours,warnings:null===e||void 0===e?void 0:e.warnings,showMeta:!0},e.id)})):null]})]})]}),Object(J.jsx)(ee.a,{className:"team-detail__edit-team",color:"primary","aria-label":"Editar equipe",onClick:function(){n.push("/teams/edit/".concat(d.id))},children:Object(J.jsx)(se.a,{})})]}),Object(J.jsxs)(te.a,{open:o,onClose:j,"aria-labelledby":"draggable-dialog-title",children:[Object(J.jsx)(ae.a,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Excluir equipe ".concat(d.name)}),Object(J.jsxs)(re.a,{children:[Object(J.jsx)(ie.a,{children:"Voc\xea tem certeza que deseja excluir a equipe ".concat(d.name,"?")}),Object(J.jsx)(ie.a,{children:"Esta a\xe7\xe3o \xe9 irrevers\xedvel."})]}),Object(J.jsxs)(ne.a,{children:[Object(J.jsx)(H.a,{autoFocus:!0,onClick:j,color:"primary",children:"Cancelar"}),Object(J.jsx)(H.a,{onClick:function(){a.teamStore.removeTeam(d),j(),n.push("/teams")},color:"primary",children:"Confirmar"})]})]})]}):null}))),Se=a(429),Ne=a(420),we=a(421),ke=(a(358),Object(M.a)((function(e){var t=e.id,a=e.name,r=void 0===a?"":a,i=e.image,n=void 0===i?"":i,c=e.avatarSize,s=void 0===c?50:c,o=e.fontSize,l=void 0===o?16:o,u=e.disabled,d=void 0!==u&&u,j=e.card,h=void 0!==j&&j,b=Object(W.f)();return h?Object(J.jsxs)(he.a,{className:"team card",button:!d,onClick:function(){return d?null:b.push("/teams/".concat(t))},children:[n.length?Object(J.jsx)("img",{className:"team__image",src:n,alt:r}):null,Object(J.jsx)("div",{className:"team__data",children:Object(J.jsx)("div",{className:"team__name",style:{fontSize:l},children:r})})]}):Object(J.jsxs)(he.a,{className:"team",button:!d,onClick:function(){return d?null:b.push("/teams/".concat(t))},children:[Object(J.jsx)(be.a,{alt:r,src:n,className:"team__avatar",style:{width:s,height:s}}),Object(J.jsx)("div",{className:"team__data",children:Object(J.jsx)("div",{className:"team__name",style:{fontSize:l},children:r})})]})}))),Ee=Object(M.a)((function(){var e=q(),t=Object(W.g)(),a=Object(W.f)(),i=e.teamStore.teamList.find((function(e){return e.id===Number(t.id)})),n=Object(r.useState)(""),c=Object(u.a)(n,2),s=c[0],d=c[1],j=Object(r.useState)(""),h=Object(u.a)(j,2),b=h[0],m=h[1],v=Object(r.useState)([]),f=Object(u.a)(v,2),O=f[0],p=f[1],x=Object(r.useState)([]),g=Object(u.a)(x,2),y=g[0],_=g[1],S=function(){var t=Object(l.a)(o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.teamStore.editTeam(i.id,{name:s,image:b,users:y});case 2:r=t.sent,a.push("/teams/".concat(r)),r&&alert("Suas altera\xe7\xf5es foram salvas.");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){d(i.name),m(i.image),_(i.users);var t=Object(N.a)(e.userStore.userList);i.users.forEach((function(e){t.forEach((function(a,r){a.id===e.id&&t.splice(r,1)}))})),p(t)}),[i]),Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(J.jsx)("div",{className:"screen create-team",children:Object(J.jsxs)(z.a,{maxWidth:"lg",children:[Object(J.jsx)("header",{className:"screen__header",children:Object(J.jsx)("h2",{children:"Editar equipe ".concat(i.name)})}),Object(J.jsxs)("main",{children:[Object(J.jsxs)("div",{className:"create-team__form",children:[Object(J.jsxs)("div",{className:"create-team__form__content",children:[Object(J.jsx)(Se.a,{id:"team-name",label:"Nome",variant:"filled",value:s,onChange:function(e){d(e.target.value)}}),Object(J.jsx)(Se.a,{id:"team-image",label:"Imagem",variant:"filled",value:b,onChange:function(e){m(e.target.value)}}),(null===s||void 0===s?void 0:s.length)||(null===b||void 0===b?void 0:b.length)?Object(J.jsx)("div",{className:"screen__header__preview",children:Object(J.jsx)(ke,{name:s,image:b,avatarSize:80,fontSize:22,disabled:!0})}):null]}),Object(J.jsx)(H.a,{variant:"outlined",onClick:S,children:"Salvar"})]}),Object(J.jsxs)("div",{className:"create-team__user-lists",children:[Object(J.jsxs)("div",{className:"user-list",children:[Object(J.jsx)("header",{className:"section-header",children:Object(J.jsx)("h3",{children:"Todos os colaboradores"})}),O.map((function(e){return Object(J.jsxs)("div",{className:"user-list__item",children:[Object(J.jsx)(xe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours},e.id),Object(J.jsx)(H.a,{className:"user-list__item__bt-add",onClick:function(){return t=e,a=O,r=y,p(le.a.sortBy(a.filter((function(e){return e.id!==t.id})),"name")),void _(le.a.sortBy([].concat(Object(N.a)(r),[t]),"name"));var t,a,r},children:Object(J.jsx)(Ne.a,{})})]},e.id)}))]}),Object(J.jsxs)("div",{className:"user-list",children:[Object(J.jsx)("header",{className:"section-header",children:Object(J.jsx)("h3",{children:"Colaboradores na equipe"})}),y.map((function(e){return Object(J.jsxs)("div",{className:"user-list__item",children:[Object(J.jsx)(H.a,{className:"user-list__item__bt-add",onClick:function(){return t=e,a=O,r=y,_(le.a.sortBy(r.filter((function(e){return e.id!==t.id})),"name")),void p(le.a.sortBy([].concat(Object(N.a)(a),[t]),"name"));var t,a,r},children:Object(J.jsx)(we.a,{})}),Object(J.jsx)(xe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours})]},e.id)}))]})]})]})]})})})),Le=(a(360),Object(M.a)((function(){var e=q(),t=Object(W.f)(),a=Object(r.useState)(""),i=Object(u.a)(a,2),n=i[0],c=i[1],s=Object(r.useState)(""),d=Object(u.a)(s,2),j=d[0],h=d[1],b=Object(r.useState)([]),m=Object(u.a)(b,2),v=m[0],f=m[1],O=Object(r.useState)([]),p=Object(u.a)(O,2),x=p[0],g=p[1],y=function(){var a=Object(l.a)(o.a.mark((function a(){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=e.teamStore.createTeam({name:n,image:j,users:x}),e.teamStore.fetchTeamList(),t.push("/teams/".concat(r)),r&&alert("A equipe ".concat(n," foi criada."));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(r.useEffect)((function(){f(e.userStore.userList),window.scrollTo(0,0)}),[]),Object(J.jsx)("div",{className:"screen create-team",children:Object(J.jsxs)(z.a,{maxWidth:"lg",children:[Object(J.jsx)("header",{className:"screen__header",children:Object(J.jsx)("h2",{children:"Criar equipe"})}),Object(J.jsxs)("main",{children:[Object(J.jsxs)("div",{className:"create-team__form",children:[Object(J.jsxs)("div",{className:"create-team__form__content",children:[Object(J.jsx)(Se.a,{id:"team-name",label:"Nome",variant:"filled",value:n,onChange:function(e){c(e.target.value)}}),Object(J.jsx)(Se.a,{id:"team-image",label:"Imagem",variant:"filled",value:j,onChange:function(e){h(e.target.value)}}),(null===n||void 0===n?void 0:n.length)||(null===j||void 0===j?void 0:j.length)?Object(J.jsx)("div",{className:"screen__header__preview",children:Object(J.jsx)(ke,{name:n,image:j,avatarSize:80,fontSize:22,disabled:!0})}):null]}),Object(J.jsx)(H.a,{variant:"outlined",onClick:y,children:"Criar"})]}),Object(J.jsxs)("div",{className:"create-team__user-lists",children:[Object(J.jsxs)("div",{className:"user-list",children:[Object(J.jsx)("header",{className:"section-header",children:Object(J.jsx)("h3",{children:"Todos os colaboradores"})}),v.map((function(e){return Object(J.jsxs)("div",{className:"user-list__item",children:[Object(J.jsx)(xe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours},e.id),Object(J.jsx)(H.a,{className:"user-list__item__bt-add",onClick:function(){return t=e,f(le.a.sortBy(v.filter((function(e){return e.id!==t.id})),"name")),void g(le.a.sortBy([].concat(Object(N.a)(x),[t]),"name"));var t},children:Object(J.jsx)(Ne.a,{})})]},e.id)}))]}),Object(J.jsxs)("div",{className:"user-list",children:[Object(J.jsx)("header",{className:"section-header",children:Object(J.jsx)("h3",{children:"Colaboradores na equipe"})}),x.map((function(e){return Object(J.jsxs)("div",{className:"user-list__item",children:[Object(J.jsx)(H.a,{className:"user-list__item__bt-add",onClick:function(){return t=e,g(le.a.sortBy(x.filter((function(e){return e.id!==t.id})),"name")),void f(le.a.sortBy([].concat(Object(N.a)(v),[t]),"name"));var t},children:Object(J.jsx)(we.a,{})}),Object(J.jsx)(xe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours})]},e.id)}))]})]})]})]})})}))),Ce=a(422),De=(a(361),Object(M.a)((function(){var e,t,a=q(),i=Object(W.f)(),n=Object(r.useState)(""),c=Object(u.a)(n,2),s=c[0],o=c[1],l=Object(r.useState)([]),d=Object(u.a)(l,2),j=d[0],h=d[1];return Object(r.useEffect)((function(){s.length?h(a.teamStore.teamList.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())}))):h(a.teamStore.teamList)}),[s]),Object(r.useEffect)((function(){h(a.teamStore.teamList),window.scrollTo(0,0)}),[]),Object(J.jsxs)("div",{className:"screen teams",children:[Object(J.jsxs)(z.a,{maxWidth:"lg",children:[Object(J.jsxs)("header",{className:"screen__header",children:[Object(J.jsx)("h2",{children:"Equipes"}),Object(J.jsx)("div",{className:"screen__header__right",children:(null===a||void 0===a||null===(e=a.teamStore)||void 0===e||null===(t=e.teamList)||void 0===t?void 0:t.length)?Object(J.jsx)(Se.a,{id:"filter-term",label:"Filtro",variant:"filled",value:s,onChange:function(e){o(e.target.value)}}):null})]}),Object(J.jsx)("main",{children:(null===j||void 0===j?void 0:j.length)?j.map((function(e){return Object(J.jsx)(ke,{id:e.id,name:null===e||void 0===e?void 0:e.name,image:null===e||void 0===e?void 0:e.image},e.id)})):Object(J.jsx)("div",{children:"Nenhuma equipe encontrada."})})]}),Object(J.jsx)(ee.a,{className:"teams__create-team",color:"primary","aria-label":"Criar equipe",onClick:function(){i.push("/teams/create")},children:Object(J.jsx)(Ce.a,{})})]})}))),Pe=a(423),Te=a(435),Ie=function(e){var t=e.data,a=void 0===t?{}:t;return Object(J.jsx)(ge.b,{data:a,options:{responsive:!0,scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!1}}}})},Be=(a(362),Object(M.a)((function(e){var t=e.project,a=void 0===t?{}:t,r=e.time,i=void 0===r?"":r,n=e.description,c=void 0===n?"":n,s=e.disabled,o=void 0!==s&&s,l=e.showMeta,u=void 0!==l&&l,d=e.warnings,j=void 0===d?[]:d,h=Object(W.f)();return Object(J.jsxs)(he.a,{button:!o,className:"time-entry",style:{borderColor:a.color},children:[Object(J.jsxs)("div",{className:"time-entry__pressable",onClick:function(){return a.id?h.push("/projects/".concat(a.id)):null},children:[Object(J.jsx)("div",{className:"time-entry__top",children:Object(J.jsx)("div",{className:"time-entry__project-name",children:a.name})}),Object(J.jsxs)("div",{className:"time-entry__bottom",children:[Object(J.jsx)("div",{className:"time-entry__time",style:{borderColor:a.color},children:i.replace("PT","").replace("H","hr ").replace("M","min")}),"-",Object(J.jsx)("div",{className:"time-entry__description",children:c})]})]}),u&&(null===j||void 0===j?void 0:j.length)?Object(J.jsx)("div",{className:"time-entry__meta",children:Object(J.jsx)(ue.a,{arrow:!0,interactive:!0,placement:"left",title:Object(J.jsx)("ul",{className:"warning-list",children:j.map((function(e){return Object(J.jsx)("li",{className:"warning-list__item",children:e})}))}),children:Object(J.jsx)("div",{className:"time-entry__meta__item",children:Object(J.jsx)(ve.a,{color:"error"})})})}):null]})}))),Re=(a(363),Object(M.a)((function(){var e,t=q(),a=Object(W.g)(),i=t.userStore.userList.find((function(e){return e.id===a.id})),n=Object(r.useState)([]),c=Object(u.a)(n,2),s=c[0],o=c[1],l=Object(r.useState)(!1),d=Object(u.a)(l,2),j=d[0],h=d[1];return Object(r.useEffect)((function(){o(j?i.timeEntriesByDay.filter((function(e){return e.timeEntries.find((function(e){var t;return null===e||void 0===e||null===(t=e.warnings)||void 0===t?void 0:t.length}))})).map((function(e){return Object(k.a)(Object(k.a)({},e),{},{timeEntries:e.timeEntries.filter((function(e){var t;return null===e||void 0===e||null===(t=e.warnings)||void 0===t?void 0:t.length}))})})):i.timeEntriesByDay)}),[j]),Object(r.useEffect)((function(){o(i.timeEntriesByDay),window.scrollTo(0,0)}),[]),i?Object(J.jsx)("div",{className:"screen user-detail",children:Object(J.jsxs)(z.a,{maxWidth:"lg",children:[Object(J.jsxs)("header",{className:"screen__header",children:[Object(J.jsxs)("div",{className:"screen__header__left",children:[Object(J.jsx)(be.a,{alt:null===i||void 0===i?void 0:i.name,src:null===i||void 0===i?void 0:i.profilePicture,className:"user-detail__avatar"}),Object(J.jsx)("h2",{children:null===i||void 0===i?void 0:i.name})]}),Object(J.jsxs)("div",{className:"screen__header__right",style:{color:i.hours>=200?"#f44336":"#ffffff"},children:[i.hours.toFixed(2),Object(J.jsx)(me.a,{color:i.hours>=200?"error":""})]})]}),Object(J.jsxs)("main",{children:[(null===i||void 0===i?void 0:i.teams.length)?Object(J.jsxs)("div",{className:"user-detail__teams",children:[Object(J.jsx)("header",{className:"section-header",children:Object(J.jsx)("h3",{children:"Equipes do colaborador"})}),i.teams.map((function(e){return Object(J.jsx)(ke,{id:e.id,name:null===e||void 0===e?void 0:e.name,image:null===e||void 0===e?void 0:e.image},e.id)}))]}):null,(null===i||void 0===i?void 0:i.timeEntries.length)?Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{className:"user-detail__chart",children:[Object(J.jsx)("header",{className:"section-header",children:Object(J.jsx)("h3",{children:"Horas por dia"})}),Object(J.jsx)(Ie,{data:{labels:i.timeEntriesByDay.map((function(e){return e.date})).reverse(),datasets:[{label:"Horas",data:i.timeEntriesByDay.map((function(e){return e.hours})).reverse(),backgroundColor:["rgba(255, 255, 255, 0.1)"],borderColor:["rgba(255, 255, 255, 0.1)"],borderWidth:1}]}})]})}):null,(null===i||void 0===i||null===(e=i.timeEntries)||void 0===e?void 0:e.length)?Object(J.jsxs)("div",{className:"time-entries",children:[Object(J.jsxs)("header",{className:"section-header",children:[Object(J.jsx)("h3",{children:"Entradas de tempo"}),Object(J.jsx)("div",{className:"time-entries__filter",children:Object(J.jsx)(Pe.a,{control:Object(J.jsx)(Te.a,{checked:j,onChange:function(){return h(!j)},name:"filterWarnings",color:"primary"}),label:"Filtrar warnings"})})]}),(null===s||void 0===s?void 0:s.length)?s.map((function(e){return Object(J.jsxs)("div",{className:"time-entries__day",children:[Object(J.jsx)("header",{className:"section-header",children:Object(J.jsx)("h3",{children:e.date})}),Object(J.jsx)("div",{className:"description",children:e.timeEntries.map((function(e){var t;return Object(J.jsx)(Be,{disabled:!(null===e||void 0===e||null===(t=e.project)||void 0===t?void 0:t.id),project:e.project,time:e.timeInterval.duration,description:e.description,warnings:e.warnings,showMeta:!0},e.id)}))})]},e.date)})):"Nenhuma entrada de tempo."]}):null,(null===i||void 0===i?void 0:i.timeEntries.length)?null:Object(J.jsx)("div",{children:"Nenhuma entrada encontrada para este usu\xe1rio no per\xedodo selecionado."})]})]})}):null}))),Fe=Object(M.a)((function(){var e,t,a=q(),i=Object(r.useState)(""),n=Object(u.a)(i,2),c=n[0],s=n[1],o=Object(r.useState)([]),l=Object(u.a)(o,2),d=l[0],j=l[1];return Object(r.useEffect)((function(){c.length?j(a.userStore.userList.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())}))):j(a.userStore.userList)}),[c]),Object(r.useEffect)((function(){j(a.userStore.userList),window.scrollTo(0,0)}),[]),Object(J.jsx)("div",{className:"screen users",children:Object(J.jsxs)(z.a,{maxWidth:"lg",children:[Object(J.jsxs)("header",{className:"screen__header",children:[Object(J.jsx)("h2",{children:"Colaboradoes"}),(null===a||void 0===a||null===(e=a.userStore)||void 0===e||null===(t=e.userList)||void 0===t?void 0:t.length)?Object(J.jsx)(Se.a,{id:"filter-term",label:"Filtro",variant:"filled",value:c,onChange:function(e){s(e.target.value)}}):null]}),Object(J.jsx)("main",{children:(null===d||void 0===d?void 0:d.length)?d.map((function(e){return Object(J.jsx)(xe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,lastName:null===e||void 0===e?void 0:e.lastName,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours,payment:null===e||void 0===e?void 0:e.payment,warnings:null===e||void 0===e?void 0:e.warnings,showMeta:!0,pdf:!0},e.id)})):Object(J.jsx)("div",{children:"Nenhum colaborador encontrado."})})]})})})),Ue=(a(364),Object(M.a)((function(e){var t=e.id,a=e.index,i=e.name,n=void 0===i?"":i,c=e.color,s=void 0===c?"":c,o=e.disabled,l=void 0!==o&&o,d=Object(r.useState)(!1),j=Object(u.a)(d,2),h=j[0],b=j[1],m=Object(W.f)();return Object(r.useEffect)((function(){var e=setTimeout((function(){b(!0)}),50*a+100);return function(){clearTimeout(e)}}),[]),Object(J.jsx)(he.a,{button:!l,onClick:function(){return l?null:m.push("/projects/".concat(t))},className:"project",style:{borderColor:h?s:"transparent"},children:Object(J.jsx)("div",{className:"project__name",children:n})})}))),qe=Object(M.a)((function(){var e,t,a=q(),i=Object(r.useState)(""),n=Object(u.a)(i,2),c=n[0],s=n[1],o=Object(r.useState)([]),l=Object(u.a)(o,2),d=l[0],j=l[1];return Object(r.useEffect)((function(){c.length?j(a.projectStore.projectList.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())}))):j(a.projectStore.projectList)}),[c]),Object(r.useEffect)((function(){j(a.projectStore.projectList),window.scrollTo(0,0)}),[]),Object(J.jsx)("div",{className:"screen projects",children:Object(J.jsxs)(z.a,{maxWidth:"lg",children:[Object(J.jsxs)("header",{className:"screen__header",children:[Object(J.jsx)("h2",{children:"Projetos"}),(null===a||void 0===a||null===(e=a.projectStore)||void 0===e||null===(t=e.projectList)||void 0===t?void 0:t.length)?Object(J.jsx)(Se.a,{id:"filter-term",label:"Filtro",variant:"filled",value:c,onChange:function(e){s(e.target.value)}}):null]}),Object(J.jsx)("main",{children:(null===d||void 0===d?void 0:d.length)?d.map((function(e,t){return Object(J.jsx)(Ue,{id:e.id,color:null===e||void 0===e?void 0:e.color,name:null===e||void 0===e?void 0:e.name,index:t},e.id)})):Object(J.jsx)("div",{children:"Nenhum projeto encontrado."})})]})})})),Ae=(a(365),Object(M.a)((function(){var e,t,a=q(),i=Object(W.g)(),n=a.projectStore.projectList.find((function(e){return e.id===i.id}));return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]),n?Object(J.jsx)("div",{className:"screen project-detail",children:Object(J.jsxs)(z.a,{maxWidth:"lg",children:[Object(J.jsxs)("header",{className:"screen__header",children:[Object(J.jsx)("div",{className:"screen__header__left",children:Object(J.jsx)("h2",{children:null===n||void 0===n?void 0:n.name})}),Object(J.jsx)("div",{className:"screen__header__right",children:Object(J.jsxs)("div",{className:"project-detail__estimate",children:[Object(J.jsx)("div",{children:"Estimativa: ".concat(E(null===n||void 0===n?void 0:n.estimate.estimate)," horas")}),Object(J.jsx)("div",{children:"Total: ".concat(E(null===n||void 0===n?void 0:n.duration).toFixed(2)," horas")}),E(null===n||void 0===n?void 0:n.estimate.estimate)&&E(null===n||void 0===n?void 0:n.duration)?Object(J.jsx)("div",{children:"Esfor\xe7o: ".concat((E(null===n||void 0===n?void 0:n.duration)/E(null===n||void 0===n?void 0:n.estimate.estimate)*100).toFixed(2),"%")}):null]})})]}),Object(J.jsxs)("main",{children:[(null===n||void 0===n?void 0:n.timeEntriesByUser.length)?Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{className:"project-detail__chart",children:[Object(J.jsx)("header",{className:"section-header",children:Object(J.jsx)("h3",{children:"Horas por colaborador"})}),Object(J.jsx)(ye,{data:{labels:le.a.orderBy(n.timeEntriesByUser,"hours","desc").map((function(e){return e.name})),datasets:[{label:"Horas",data:le.a.orderBy(n.timeEntriesByUser,"hours","desc").map((function(e){return(null===e||void 0===e?void 0:e.hours)?e.hours.toFixed(2):0})),backgroundColor:["".concat(n.color,"85")],borderWidth:0}]}})]})}):null,(null===n||void 0===n||null===(e=n.timeEntriesByUser)||void 0===e?void 0:e.length)?Object(J.jsxs)("div",{className:"user-list",children:[Object(J.jsx)("header",{className:"section-header",children:Object(J.jsx)("h3",{children:"Colaboradores no projeto"})}),n.timeEntriesByUser.map((function(e){return Object(J.jsx)(xe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours},e.id)}))]}):null,(null===n||void 0===n||null===(t=n.timeEntriesByUser)||void 0===t?void 0:t.length)?null:Object(J.jsx)("div",{children:"Nenhuma entrada encontrada para este projeto no per\xedodo selecionado."})]})]})}):null}))),We=a(424),Me=(a(366),Object(M.a)((function(){var e,t,a,i,n,c,s=q(),j=Object(r.useState)(""),h=Object(u.a)(j,2),b=h[0],m=h[1],v=Object(r.useState)(!1),f=Object(u.a)(v,2),O=f[0],p=f[1],x=y("clockify-api-key"),g=Object(u.a)(x,1)[0],_=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,Object(d.flowResult)(s.authStore.authenticate(b));case 3:p(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=document.querySelector(".login .fetch-data-log");e&&(e.scrollTop=e.scrollHeight)}),[s.authStore.fetchDataLog.length]),Object(r.useEffect)((function(){(null===g||void 0===g?void 0:g.length)&&m(g)}),[]),Object(J.jsx)("div",{className:"screen login",children:Object(J.jsxs)(z.a,{maxWidth:"lg",className:"login__container",children:[Object(J.jsx)("h1",{children:"Clockify Teams"}),Object(J.jsx)("div",{className:"login__box",children:s.authStore.isConfirmingIdentity?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(xe,{disabled:!0,name:null===s||void 0===s||null===(e=s.authStore)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name,profilePicture:null===s||void 0===s||null===(a=s.authStore)||void 0===a||null===(i=a.user)||void 0===i?void 0:i.profilePicture,email:null===s||void 0===s||null===(n=s.authStore)||void 0===n||null===(c=n.user)||void 0===c?void 0:c.email}),Object(J.jsx)("div",{className:"fetch-data-log",children:s.authStore.fetchDataLog.map((function(e){var t=e.text,a=e.color;return Object(J.jsx)("div",{style:{color:a},children:t},t)}))})]}):Object(J.jsxs)(J.Fragment,{children:[s.authStore.autoLogin?null:Object(J.jsx)(Se.a,{id:"api-key",label:"Clockify API Key",variant:"filled",value:b,onChange:function(e){m(e.target.value)}}),O||s.authStore.autoLogin?Object(J.jsx)(We.a,{}):Object(J.jsx)(H.a,{variant:"outlined",onClick:_,children:"Autenticar"})]})})]})})}))),ze=Object(M.a)((function(){var e,t=q();return Object(J.jsx)(A.a,{children:(null===t||void 0===t||null===(e=t.authStore)||void 0===e?void 0:e.isAuthenticated)?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)($,{}),Object(J.jsxs)(W.c,{children:[Object(J.jsx)(W.a,{path:"/users/:id",children:Object(J.jsx)(Re,{})}),Object(J.jsx)(W.a,{path:"/projects/:id",children:Object(J.jsx)(Ae,{})}),Object(J.jsx)(W.a,{path:"/projects",children:Object(J.jsx)(qe,{})}),Object(J.jsx)(W.a,{path:"/teams/edit/:id",children:Object(J.jsx)(Ee,{})}),Object(J.jsx)(W.a,{path:"/teams/create",children:Object(J.jsx)(Le,{})}),Object(J.jsx)(W.a,{path:"/teams/:id",children:Object(J.jsx)(_e,{})}),Object(J.jsx)(W.a,{path:"/teams",children:Object(J.jsx)(De,{})}),Object(J.jsx)(W.a,{path:"/",children:Object(J.jsx)(Fe,{})})]})]}):Object(J.jsx)(W.c,{children:Object(J.jsx)(W.a,{path:"/",children:Object(J.jsx)(Me,{})})})})})),He=a(175),Je=a(425),Ke=a(426),Ve={palette:{type:"dark",primary:{main:"#ecf0f1"},secondary:{main:"#2ecc71"}}},Xe=function(e){var t=e.children,a=Object(He.a)(Ve);return Object(J.jsxs)(Je.a,{theme:a,children:[Object(J.jsx)(Ke.a,{}),t]})},Ye=a(428),Qe=a(427),Ze=(a(367),function(e){return e.active?Object(J.jsx)("div",{className:"loader",children:Object(J.jsx)(We.a,{})}):null}),Ge=(a(368),new Date),$e=Object(M.a)((function(){var e=q(),t=Object(r.useState)(!1),a=Object(u.a)(t,2),i=a[0],n=a[1],c=Object(r.useState)(new Date(Ge.getFullYear(),Ge.getMonth(),1)),s=Object(u.a)(c,2),j=s[0],h=s[1],b=Object(r.useState)(new Date(Ge.getFullYear(),Ge.getMonth()+1,0)),m=Object(u.a)(b,2),v=m[0],f=m[1],O=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.authStore.clearDataLog(),e.authStore.setStatusConfirmingIdentity(),e.userStore.setQueryDate(j,v),n(!0),t.next=6,Object(d.flowResult)(e.projectStore.fetchProjectList());case 6:return t.next=8,Object(d.flowResult)(e.userStore.fetchUserList());case 8:e.projectStore.formatProjectList(),e.teamStore.fetchTeamList(),e.userStore.getUsersTeams(),n(!1),e.authStore.confirmIdentity();case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return e.authStore.isUnauthenticated?null:Object(J.jsxs)("div",{className:"query-date-selector",children:[Object(J.jsx)(Ze,{active:i}),Object(J.jsxs)("div",{className:"query-date-selector__content",children:[Object(J.jsx)(Ye.a,{inputVariant:"filled",id:"start-date",label:"Data inicial",format:"dd/MM/yyyy",value:j,onChange:h,KeyboardButtonProps:{"aria-label":"Selecione a data inicial"},disabled:i}),Object(J.jsx)(Ye.a,{inputVariant:"filled",id:"end-date",label:"Data final",format:"dd/MM/yyyy",value:v,onChange:f,KeyboardButtonProps:{"aria-label":"Selecione a data final"},disabled:i}),Object(J.jsx)(H.a,{variant:"outlined",disabled:i,onClick:O,className:"query-date-selector__bt-search",children:Object(J.jsx)(Qe.a,{})})]})]})})),et=function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),a=t[0],i=t[1],n=y("clockify-api-key"),c=Object(u.a)(n,1)[0],s=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(j.wrapRoot)({RootStore:R,env:p}),i(t),!(null===c||void 0===c?void 0:c.length)){e.next=7;break}return t.authStore.setAutoLogin(!0),e.next=6,Object(d.flowResult)(t.authStore.authenticate(c));case 6:t.authStore.setAutoLogin(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){s()}),[]),a?Object(J.jsx)("div",{className:"app",children:Object(J.jsx)(U,{value:a,children:Object(J.jsx)(h.a,{utils:b.a,children:Object(J.jsxs)(Xe,{children:[Object(J.jsx)(ze,{}),Object(J.jsx)($e,{})]})})})}):null};a(369),a(370),a(371),a(372);c.a.render(Object(J.jsx)(i.a.StrictMode,{children:Object(J.jsx)(et,{})}),document.getElementById("root"))}},[[373,1,2]]]);
//# sourceMappingURL=main.8a4bface.chunk.js.map