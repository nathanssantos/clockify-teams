(this["webpackJsonpclockify-teams"]=this["webpackJsonpclockify-teams"]||[]).push([[0],{194:function(e,t,a){},231:function(e,t,a){},237:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},349:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){},353:function(e,t,a){},354:function(e,t,a){},355:function(e,t,a){},356:function(e,t,a){},357:function(e,t,a){},358:function(e,t,a){},359:function(e,t,a){},360:function(e,t,a){},361:function(e,t,a){},366:function(e,t,a){"use strict";a.r(t);var r=a(0),i=a.n(r),n=a(19),c=a.n(n),s=(a(194),a(20)),o=a.n(s),l=a(43),u=a(11),d=a(5),j=a(12),h=a(33),b=a(170),m=a(163),v=a.n(m).a.create({baseURL:"https://api.clockify.me/api/v1",timeout:1e4}),f=a(8),O=a(9),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=JSON.parse(localStorage.getItem("clockify-teams@".concat(e)))||{},a=function(t){localStorage.setItem("clockify-teams@".concat(e),JSON.stringify(t))};return[t,a]},x=function(){function e(t){if(Object(f.a)(this,e),this.id=null,this.name=null,this.email=null,this.defaultWorkspace=null,this.profilePicture=null,this.timeEntries=[],this.timeEntriesByDay=[],this.teams=[],this.hours=null,Object(d.makeObservable)(this,{id:d.observable,name:d.observable,email:d.observable,defaultWorkspace:d.observable,profilePicture:d.observable,timeEntries:d.observable,timeEntriesByDay:d.observable,teams:d.observable,hours:d.observable}),null==t||null==t.id)throw new Error("Invalid user constructor");var a=t.id,r=t.name,i=t.email,n=t.defaultWorkspace,c=t.profilePicture,s=t.timeEntries,o=t.timeEntriesByDay,l=t.teams,u=t.hours;this.id=a,this.name=r||"",this.email=i||"",this.defaultWorkspace=n||"",this.profilePicture=c||"",this.timeEntries=s||[],this.timeEntriesByDay=o||[],this.teams=l||[],this.hours=u||0}return Object(O.a)(e,null,[{key:"fromApi",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,r=t.name,i=t.email,n=t.defaultWorkspace,c=t.profilePicture,s=t.timeEntries,o=t.timeEntriesByDay,l=t.teams,u=t.hours;return new e({id:a,name:r,email:i,defaultWorkspace:n,profilePicture:c,timeEntries:s,timeEntriesByDay:o,teams:l,hours:u})}}]),e}(),g=function(){function e(){Object(f.a)(this,e),this.user=null,this.authStatus="unauthenticated",this.autoLogin=!1,this.fetchDataLog=[],Object(d.makeObservable)(this,{user:d.observable,authStatus:d.observable,autoLogin:d.observable,fetchDataLog:d.observable,isAuthenticated:d.computed,isConfirmingIdentity:d.computed,isUnauthenticated:d.computed,setUser:d.action.bound,confirmIdentity:d.action.bound,unauthenticate:d.action.bound,setAutoLogin:d.action.bound,feedFetchDataLog:d.action.bound,setStatusConfirmingIdentity:d.action.bound,clearDataLog:d.action.bound,authenticate:d.flow})}return Object(O.a)(e,[{key:"isAuthenticated",get:function(){return"authenticated"===this.authStatus}},{key:"isConfirmingIdentity",get:function(){return"confirming-identity"===this.authStatus}},{key:"isUnauthenticated",get:function(){return"unauthenticated"===this.authStatus}},{key:"setUser",value:function(e){this.user=x.fromApi(e)}},{key:"confirmIdentity",value:function(){this.authStatus="authenticated"}},{key:"setAutoLogin",value:function(e){this.autoLogin=e}},{key:"feedFetchDataLog",value:function(e,t){var a="";switch(t){case"success":a="#27ae60";break;case"error":a="#c0392b";break;default:a="#ffffff"}"string"===typeof e&&e.length&&this.fetchDataLog.push({text:e,color:a})}},{key:"clearDataLog",value:function(){this.fetchDataLog=[]}},{key:"setStatusConfirmingIdentity",value:function(){this.authStatus="confirming-identity"}},{key:"unauthenticate",value:function(){this.authStatus="unauthenticated",this.user=null,Object(j.getEnv)().defaults.headers.common["X-Api-Key"]=null}},{key:"authenticate",value:o.a.mark((function e(t){var a,r,i,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=p("clockify-api-key"),r=Object(u.a)(a,2),i=r[1],Object(j.getEnv)().defaults.headers.common["X-Api-Key"]=t,i(t),e.next=6,Object(j.getEnv)().get("/user");case 6:if(200===(null===(n=e.sent)||void 0===n?void 0:n.status)){e.next=10;break}return alert("Invalid Clockify API Key"),e.abrupt("return",!1);case 10:if(!(null===n||void 0===n?void 0:n.data)){e.next=14;break}return this.setUser(n.data),this.authStatus="confirming-identity",e.abrupt("return",!0);case 14:return this.unauthenticate(),e.abrupt("return",!1);case 18:return e.prev=18,e.t0=e.catch(0),console.log(e.t0),this.unauthenticate(),alert("Invalid Clockify API Key"),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,this,[[0,18]])}))}]),e}(),y=a(21),_=a(13),S=a(14),E=function(e){try{var t=null===e||void 0===e?void 0:e.split("H"),a=0,r=0;if(null===t||void 0===t?void 0:t.length)return 2===(null===t||void 0===t?void 0:t.length)?(a=Number(t[0].split("PT")[1])||0,r=Number(t[1].split("M")[0])||0):"PT0S"!==t[0]&&(r=Number(t[0].replace("PT","").replace("M",""))),Number(a+r/60)}catch(i){console.log(i)}},k=function(e){try{var t=null===e||void 0===e?void 0:e.split("T");if(null===t||void 0===t?void 0:t.length){var a=t[0].split("-");return"".concat(a[2],"/").concat(a[1],"/").concat(a[0])}}catch(r){console.log(r)}},N=function(){function e(){Object(f.a)(this,e),this.userList=[],this.queryStartDate=null,this.queryEndDate=null,Object(d.makeObservable)(this,{userList:d.observable,queryStartDate:d.observable,queryEndDate:d.observable,setUserList:d.action.bound,fetchUserData:d.action.bound,fetchUserList:d.flow,fetchUserTimeEntries:d.flow,fetchAllUsersTimeEntries:d.flow})}return Object(O.a)(e,[{key:"setUserList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.userList=e.map((function(e){return x.fromApi(e)}))}},{key:"setQueryDate",value:function(e,t){this.queryStartDate=e,this.queryEndDate=t}},{key:"fetchUserData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t,a=e.id,r=this.userList.find((function(e){return e.id===a})),i=[],n=[],c=Object(S.a)(r.timeEntries);try{var s=function(){var e,a,r=t.value,n=null===r||void 0===r||null===(e=r.timeInterval)||void 0===e?void 0:e.duration,c=null===r||void 0===r||null===(a=r.timeInterval)||void 0===a?void 0:a.start,s=Object(j.getRoot)().projectStore.projectList.find((function(e){return e.id===(null===r||void 0===r?void 0:r.projectId)})),o=i.find((function(e){return e.date===k(c)}));(null===n||void 0===n?void 0:n.length)&&(null===c||void 0===c?void 0:c.length)&&(o?i=i.map((function(e){return e.date===k(c)?{date:e.date,timeEntries:[].concat(Object(y.a)(e.timeEntries),[Object(_.a)(Object(_.a)({},r),{},{project:s||{name:"Sem projeto",color:"#ffffff"}})]),hours:e.hours+E(n)}:e})):i.push({date:k(c),timeEntries:[Object(_.a)(Object(_.a)({},r),{},{project:s||{name:"Sem projeto",color:"#ffffff"}})],hours:E(n)}))};for(c.s();!(t=c.n()).done;)s()}catch(m){c.e(m)}finally{c.f()}var o,l=Object(S.a)(Object(j.getRoot)().teamStore.teamList);try{for(l.s();!(o=l.n()).done;){var u,d=o.value,h=Object(S.a)(d.users);try{for(h.s();!(u=h.n()).done;){var b=u.value;b.id===a&&n.push(d)}}catch(m){h.e(m)}finally{h.f()}}}catch(m){l.e(m)}finally{l.f()}return this.setUserList(this.userList.map((function(t){return t.id===a?Object(_.a)(Object(_.a)({},e),{},{timeEntriesByDay:i,teams:n}):t}))),!1}catch(v){return console.log(v),!1}}},{key:"fetchUserList",value:o.a.mark((function e(){var t,a,r,i,n,c,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},e.prev=1,Object(j.getRoot)().authStore.feedFetchDataLog("fetching user list..."),r=t.pageSize,i=void 0===r?1e3:r,n=Object(j.getRoot)().authStore.user.defaultWorkspace,e.next=7,Object(j.getEnv)().get("/workspaces/".concat(n,"/users"),{params:{"page-size":i,status:"ACTIVE"}});case 7:if(200===(c=e.sent).status){e.next=11;break}return Object(j.getRoot)().authStore.feedFetchDataLog("fetch user list error","error"),e.abrupt("return",!1);case 11:if(!(null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.length)){e.next=15;break}return this.setUserList(c.data),Object(j.getRoot)().authStore.feedFetchDataLog("fetch user list success","success"),e.abrupt("return",!0);case 15:return Object(j.getRoot)().authStore.feedFetchDataLog("fetch user list error","error"),e.abrupt("return",!1);case 19:return e.prev=19,e.t0=e.catch(1),console.log(e.t0),Object(j.getRoot)().authStore.feedFetchDataLog("fetch user list error","error"),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,this,[[1,19]])}))},{key:"fetchUserTimeEntries",value:o.a.mark((function e(){var t,a,r,i,n,c,s,l,u,d,h,b,m,v=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:{},a=t.id,r=t.name,i=t.pageSize,n=void 0===i?1e3:i,e.prev=2,Object(j.getRoot)().authStore.feedFetchDataLog("fetching user ".concat(r," time entries...")),c=Object(j.getRoot)().authStore.user.defaultWorkspace,e.next=7,Object(j.getEnv)().get("/workspaces/".concat(c,"/user/").concat(a,"/time-entries"),{params:{start:this.queryStartDate,end:this.queryEndDate,"page-size":n}});case 7:if(200===(s=e.sent).status){e.next=11;break}return Object(j.getRoot)().authStore.feedFetchDataLog("fetch user ".concat(r," time entries error"),"error"),e.abrupt("return",!1);case 11:if(!(null===s||void 0===s?void 0:s.data)){e.next=17;break}l=0,u=Object(S.a)(s.data);try{for(u.s();!(d=u.n()).done;)b=d.value,(null===(m=null===b||void 0===b||null===(h=b.timeInterval)||void 0===h?void 0:h.duration)||void 0===m?void 0:m.length)&&(l+=E(m))}catch(o){u.e(o)}finally{u.f()}return Object(j.getRoot)().authStore.feedFetchDataLog("fetch user ".concat(r," time entries success"),"success"),e.abrupt("return",{timeEntries:s.data,hours:l});case 17:return Object(j.getRoot)().authStore.feedFetchDataLog("fetch user ".concat(r," time entries error"),"error"),e.abrupt("return",!1);case 21:return e.prev=21,e.t0=e.catch(2),console.log(e.t0),Object(j.getRoot)().authStore.feedFetchDataLog("fetch user ".concat(r," time entries error"),"error"),e.abrupt("return",!1);case 26:case"end":return e.stop()}}),e,this,[[2,21]])}))},{key:"fetchAllUsersTimeEntries",value:o.a.mark((function e(){var t,a,r,i,n,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,Object(j.getRoot)().authStore.feedFetchDataLog("fetching all users time entries..."),t=[],a=Object(S.a)(this.userList),e.prev=4,a.s();case 6:if((r=a.n()).done){e.next=14;break}return i=r.value,e.next=10,this.fetchUserTimeEntries(i);case 10:(n=e.sent)&&(c=n.timeEntries,s=n.hours,t.push(Object(_.a)(Object(_.a)({},i),{},{timeEntries:c,hours:s})));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:if(!t.length){e.next=26;break}return this.setUserList(t),Object(j.getRoot)().authStore.feedFetchDataLog("fetch all users time entries success","success"),e.abrupt("return",!0);case 26:return Object(j.getRoot)().authStore.feedFetchDataLog("fetch all users time entries error","error"),e.abrupt("return",!1);case 30:return e.prev=30,e.t1=e.catch(0),Object(j.getRoot)().authStore.feedFetchDataLog("fetch all users time entries error","error"),e.abrupt("return",!1);case 34:case"end":return e.stop()}}),e,this,[[0,30],[4,16,19,22]])}))}]),e}(),L=function(){function e(t){if(Object(f.a)(this,e),this.id=null,this.name=null,this.email=null,this.workspaceId=null,this.color=null,this.duration=null,this.estimate=null,this.users=[],this.fetchedTimeEntries=!1,this.timeEntriesByUser=[],Object(d.makeObservable)(this,{id:d.observable,name:d.observable,email:d.observable,workspaceId:d.observable,color:d.observable,duration:d.observable,estimate:d.observable,users:d.observable,fetchedTimeEntries:d.observable,timeEntriesByUser:d.observable}),null==t||null==t.id)throw new Error("Invalid Project constructor");var a=t.id,r=t.name,i=t.email,n=t.workspaceId,c=t.color,s=t.duration,o=t.estimate,l=t.users,u=t.fetchedTimeEntries,j=t.timeEntriesByUser;this.id=a,this.name=r||"",this.email=i||"",this.workspaceId=n||"",this.color=c||"",this.duration=s||"",this.estimate=o||"",this.users=l||[],this.fetchedTimeEntries=u||!1,this.timeEntriesByUser=j||[]}return Object(O.a)(e,null,[{key:"fromApi",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,r=t.name,i=t.email,n=t.workspaceId,c=t.color,s=t.duration,o=t.estimate,l=t.users,u=t.fetchedTimeEntries,d=t.timeEntriesByUser;return new e({id:a,name:r,email:i,workspaceId:n,color:c,duration:s,estimate:o,users:l,fetchedTimeEntries:u,timeEntriesByUser:d})}}]),e}(),w=function(){function e(){Object(f.a)(this,e),this.projectList=[],Object(d.makeObservable)(this,{projectList:d.observable,setProjectList:d.action.bound,fetchProjectData:d.action.bound,fetchProjectList:d.flow})}return Object(O.a)(e,[{key:"setProjectList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.projectList=e.map((function(e){return L.fromApi(e)}))}},{key:"fetchProjectList",value:o.a.mark((function e(){var t,a,r,i,n,c,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},e.prev=1,Object(j.getRoot)().authStore.feedFetchDataLog("fetching project list..."),r=t.pageSize,i=void 0===r?1e3:r,n=Object(j.getRoot)().authStore.user.defaultWorkspace,e.next=7,Object(j.getEnv)().get("/workspaces/".concat(n,"/projects"),{params:{archived:!1,"page-size":i}});case 7:if(200===(c=e.sent).status){e.next=11;break}return Object(j.getRoot)().authStore.feedFetchDataLog("fetch project list error","error"),e.abrupt("return",!1);case 11:if(!(null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.length)){e.next=15;break}return this.setProjectList(c.data),Object(j.getRoot)().authStore.feedFetchDataLog("fetch project list success","success"),e.abrupt("return",!0);case 15:return e.abrupt("return",!1);case 18:return e.prev=18,e.t0=e.catch(1),console.log(e.t0),Object(j.getRoot)().authStore.feedFetchDataLog("fetch project list error","error"),e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e,this,[[1,18]])}))},{key:"fetchProjectData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var a=function(){var a,r=t.id,i=[],n=Object(S.a)(Object(j.getRoot)().userStore.userList);try{for(n.s();!(a=n.n()).done;){var c,s=a.value,o=s.timeEntries.filter((function(e){return e.projectId===r})),l=Object(S.a)(o);try{var u=function(){var e,t=c.value,a=i.find((function(e){return e.id===t.userId})),r=0,n=null===t||void 0===t||null===(e=t.timeInterval)||void 0===e?void 0:e.duration;(null===n||void 0===n?void 0:n.length)&&(r+=E(n)),a?i=i.map((function(e){return e.id===t.userId?Object(_.a)(Object(_.a)({},e),{},{timeEntries:[].concat(Object(y.a)(e.timeEntries),[t]),hours:e.hours+r}):e})):i.push(Object(_.a)(Object(_.a)({},s),{},{timeEntries:[t],hours:r}))};for(l.s();!(c=l.n()).done;)u()}catch(d){l.e(d)}finally{l.f()}}}catch(d){n.e(d)}finally{n.f()}return e.setProjectList(e.projectList.map((function(e){return e.id===r?Object(_.a)(Object(_.a)({},t),{},{timeEntriesByUser:i,fetchedTimeEntries:!0}):e}))),{v:!0}}();if("object"===typeof a)return a.v}catch(r){return console.log(r),!1}}}]),e}(),C=function(){function e(t){if(Object(f.a)(this,e),this.id=null,this.name=null,this.image=null,this.users=[],this.fetchedTimeEntries=!1,this.timeEntriesByProject=[],Object(d.makeObservable)(this,{id:d.observable,name:d.observable,image:d.observable,users:d.observable,fetchedTimeEntries:d.observable,timeEntriesByProject:d.observable}),null==t||null==t.id)throw new Error("Invalid Team constructor");var a=t.id,r=t.name,i=t.image,n=t.users,c=t.fetchedTimeEntries,s=t.timeEntriesByProject;this.id=a,this.name=r||"",this.image=i||"",this.users=n||[],this.fetchedTimeEntries=c||!1,this.timeEntriesByProject=s||[]}return Object(O.a)(e,null,[{key:"fromApi",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,r=t.name,i=t.image,n=t.users,c=t.fetchedTimeEntries,s=t.timeEntriesByProject;return new e({id:a,name:r,image:i,users:n,fetchedTimeEntries:c,timeEntriesByProject:s})}}]),e}(),T=function(){function e(){Object(f.a)(this,e),this.teamList=[],Object(d.makeObservable)(this,{teamList:d.observable,setTeamList:d.action.bound,createTeam:d.action.bound,editTeam:d.action.bound,fetchTeamList:d.action.bound,fetchTeamData:d.action.bound})}return Object(O.a)(e,[{key:"createTeam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=e.users,a=p("team-list"),r=Object(u.a)(a,2),i=r[0],n=r[1],c=i||[],s=1;return c.length?(s=c.length+1,n([].concat(Object(y.a)(c),[Object(_.a)(Object(_.a)({},e),{},{id:s,users:t.map((function(e){return e.id}))})]))):n([Object(_.a)(Object(_.a)({},e),{},{id:1,users:t.map((function(e){return e.id}))})]),s}catch(o){return console.log(o),!1}finally{this.fetchTeamList()}}},{key:"editTeam",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=p("team-list"),r=Object(u.a)(a,2),i=r[0],n=r[1],c=t.users;return n(i.map((function(a){return a.id===e?Object(_.a)(Object(_.a)(Object(_.a)({},a),t),{},{users:c.map((function(e){return e.id}))}):a}))),e}catch(s){return console.log(s),!1}finally{this.fetchTeamList()}}},{key:"removeTeam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=p("team-list"),a=Object(u.a)(t,2),r=a[0],i=a[1],n=r.filter((function(t){return t.id!==e.id}));i(n),this.setTeamList(n.map((function(e){return Object(_.a)(Object(_.a)({},e),{},{users:Object(j.getRoot)().userStore.userList.filter((function(t){return e.users.includes(t.id)}))})})))}catch(c){console.log(c)}}},{key:"setTeamList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.teamList=e.map((function(e){return C.fromApi(e)}))}},{key:"fetchTeamList",value:function(){try{Object(j.getRoot)().authStore.feedFetchDataLog("fetching team list...");var e=p("team-list"),t=Object(u.a)(e,1)[0];return t.length&&(this.setTeamList(t.map((function(e){return Object(_.a)(Object(_.a)({},e),{},{users:Object(j.getRoot)().userStore.userList.filter((function(t){return e.users.includes(t.id)}))})}))),Object(j.getRoot)().authStore.feedFetchDataLog("fetch team list success","success")),!1}catch(a){return console.log(a),Object(j.getRoot)().authStore.feedFetchDataLog("fetch team list error","error"),!1}}},{key:"fetchTeamData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t,a=e.id,r=e.users,i=void 0===r?[]:r,n=[],c=[],s=Object(S.a)(i);try{var o=function(){var e=t.value,a=Object(j.getRoot)().userStore.userList.find((function(t){return t.id===e.id}));if(a){var r,i=a.timeEntries,s=a.hours,o=Object(S.a)(i);try{var l=function(){var e,t=r.value,a=c.find((function(e){return e.id===t.projectId})),i=0,n=null===t||void 0===t||null===(e=t.timeInterval)||void 0===e?void 0:e.duration;(null===n||void 0===n?void 0:n.length)&&(i+=E(n)),a?c=c.map((function(e){return e.id===t.projectId?Object(_.a)(Object(_.a)({},e),{},{id:t.projectId,timeEntries:[].concat(Object(y.a)(e.timeEntries),[t]),hours:e.hours+i}):e})):c.push({id:t.projectId,timeEntries:[t],hours:i})};for(o.s();!(r=o.n()).done;)l()}catch(d){o.e(d)}finally{o.f()}var u=Object(j.getRoot)().userStore.userList.find((function(t){return t.id===e.id}));n.push(Object(_.a)(Object(_.a)({},u),{},{timeEntries:i,hours:s}))}};for(s.s();!(t=s.n()).done;)o()}catch(m){s.e(m)}finally{s.f()}var l,u=0,d=Object(S.a)(c);try{var h=function(){var e=l.value;if(e.id){var t=Object(j.getRoot)().projectStore.projectList.find((function(t){return t.id===e.id}));t&&(c[u]=Object(_.a)(Object(_.a)({},c[u]),{},{name:t.name,color:t.color}))}else c[u]=Object(_.a)(Object(_.a)({},c[u]),{},{name:"Sem projeto",color:"#ffffff"});u++};for(d.s();!(l=d.n()).done;)h()}catch(m){d.e(m)}finally{d.f()}var b=Object(_.a)(Object(_.a)({},e),{},{users:n,timeEntriesByProject:c,fetchedTimeEntries:!0});return this.setTeamList(this.teamList.map((function(e){return e.id===a?b:e}))),b}catch(v){return console.log(v),!1}}}]),e}(),D=function(){function e(){Object(f.a)(this,e),this.authStore=null,this.userStore=null,this.projectStore=null,this.teamStore=null}return Object(O.a)(e,[{key:"init",value:function(){this.authStore=new g,this.userStore=new N,this.projectStore=new w,this.teamStore=new T}}]),e}(),P=Object(r.createContext)({}),B=P.Provider,I=function(){return Object(r.useContext)(P)},F=a(34),R=a(22),U=a(18),A=a(398),q=a(394),W=(a(231),a(1)),V=[{route:"/",label:"Equipes"},{route:"/projects",label:"Projetos"},{route:"/users",label:"Colaboradores"}],z=function(e){var t=e.vertical,a=e.drawer,r=Object(R.f)();return Object(W.jsx)("nav",{className:"menu ".concat(t?"vertical":""),children:Object(W.jsx)("ul",{className:"menu__list",children:V.map((function(e){return Object(W.jsx)("li",{className:"menu__list__item",children:Object(W.jsx)(q.a,{className:"menu__list__item__button",fullWidth:t,color:"primary",onClick:function(){return t=e.route,r.push(t),void(a&&a.close());var t},children:e.label})},e.route)}))})})},H=a(418),M=a(167),K=a.n(M),J=(a(237),function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],i=t[1],n=function(){i(!0)},c=function(){i(!1)};return Object(W.jsxs)("div",{className:"drawer",children:[Object(W.jsx)(q.a,{onClick:n,children:Object(W.jsx)(K.a,{color:"primary"})}),Object(W.jsx)(H.a,{anchor:"left",open:a,onClose:c,onOpen:n,children:Object(W.jsx)("div",{className:"drawer__content",children:Object(W.jsx)(z,{vertical:!0,drawer:{close:c}})})})]})}),Q=(a(241),function(){return Object(W.jsx)("div",{className:"logo",children:"Clockify Teams"})}),X=(a(242),Object(U.a)((function(){return Object(W.jsx)("header",{className:"header",children:Object(W.jsx)(A.a,{maxWidth:"lg",children:Object(W.jsxs)("div",{className:"header__content",children:[Object(W.jsx)(Q,{}),Object(W.jsx)("div",{className:"header__menu",children:Object(W.jsx)(z,{})}),Object(W.jsx)("div",{className:"header__drawer",children:Object(W.jsx)(J,{})})]})})})}))),Y=a(401),Z=a(403),G=a(404),$=a(405),ee=a(406),te=a(407),ae=a(400),re=a(402),ie=a(25),ne=a.n(ie),ce=a(399),se=a(421),oe=(a(243),Object(U.a)((function(e){var t=e.id,a=e.name,r=void 0===a?"":a,i=e.profilePicture,n=void 0===i?"":i,c=e.email,s=void 0===c?"":c,o=e.disabled,l=Object(R.f)();return Object(W.jsxs)(ce.a,{button:!o,onClick:function(){return o?null:l.push("/users/".concat(t))},className:"user",children:[Object(W.jsx)(se.a,{alt:r,src:n,className:"user__avatar"}),Object(W.jsxs)("div",{className:"user__data",children:[Object(W.jsx)("div",{className:"user__name",children:r}),Object(W.jsx)("div",{className:"user__email",children:s})]})]})}))),le=a(102),ue=function(e){var t=e.data,a=void 0===t?{}:t;return Object(W.jsx)(le.a,{data:a,options:{responsive:!0,indexAxis:"y",scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!1}}}})},de=(a(349),Object(U.a)((function(){var e,t=I(),a=Object(R.g)(),i=Object(R.f)(),n=Object(r.useState)(null),c=Object(u.a)(n,2),s=c[0],o=c[1],l=Object(r.useState)(!1),d=Object(u.a)(l,2),j=d[0],h=d[1],b=t.teamStore.teamList.find((function(e){return e.id===Number(a.id)})),m=function(){h(!1)};return Object(r.useEffect)((function(){o(b)}),[b]),Object(r.useEffect)((function(){t.teamStore.fetchTeamData(b),window.scrollTo(0,0)}),[]),s?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("div",{className:"screen team-detail",children:[Object(W.jsxs)(A.a,{maxWidth:"lg",children:[Object(W.jsxs)("header",{className:"screen__header",children:[Object(W.jsxs)("div",{className:"screen__header__left",children:[Object(W.jsx)(se.a,{alt:null===s||void 0===s?void 0:s.name,src:null===s||void 0===s?void 0:s.image,className:"team-detail__avatar"}),Object(W.jsx)("h2",{children:null===s||void 0===s?void 0:s.name})]}),Object(W.jsx)("div",{className:"screen__header__right",children:Object(W.jsx)(q.a,{onClick:function(){h(!0)},children:Object(W.jsx)(ae.a,{})})})]}),Object(W.jsxs)("main",{children:[(null===s||void 0===s?void 0:s.fetchedTimeEntries)?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("div",{className:"team-detail__chart",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Horas por projeto"})}),Object(W.jsx)(ue,{data:{labels:ne.a.orderBy(s.timeEntriesByProject,"hours","desc").map((function(e){return e.name})),datasets:[{label:"Horas",data:ne.a.orderBy(s.timeEntriesByProject,"hours","desc").map((function(e){return(null===e||void 0===e?void 0:e.hours)?e.hours.toFixed(2):0})),backgroundColor:ne.a.orderBy(s.timeEntriesByProject,"hours","desc").map((function(e){return"".concat(e.color,"85")})),borderWidth:0}]}})]}),Object(W.jsxs)("div",{className:"team-detail__chart",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Horas por colaborador"})}),Object(W.jsx)(ue,{data:{labels:ne.a.orderBy(s.users,"hours","desc").map((function(e){return e.name})),datasets:[{label:"Horas",data:ne.a.orderBy(s.users,"hours","desc").map((function(e){return(null===e||void 0===e?void 0:e.hours)?e.hours.toFixed(2):0})),backgroundColor:["rgba(255, 255, 255, 0.08)"],borderWidth:0}]}})]})]}):null,Object(W.jsxs)("div",{className:"user-list",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Colaboradores na equipe"})}),(null===s||void 0===s||null===(e=s.users)||void 0===e?void 0:e.length)?s.users.map((function(e){return Object(W.jsx)(oe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours,hourValue:null===e||void 0===e?void 0:e.hourValue,payment:null===e||void 0===e?void 0:e.payment},e.id)})):null]})]})]}),Object(W.jsx)(Y.a,{className:"team-detail__edit-team",color:"primary","aria-label":"Editar equipe",onClick:function(){i.push("/teams/edit/".concat(s.id))},children:Object(W.jsx)(re.a,{})})]}),Object(W.jsxs)(Z.a,{open:j,onClose:m,"aria-labelledby":"draggable-dialog-title",children:[Object(W.jsx)(G.a,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Excluir equipe ".concat(s.name)}),Object(W.jsxs)($.a,{children:[Object(W.jsx)(ee.a,{children:"Voc\xea tem certeza que deseja excluir a equipe ".concat(s.name,"?")}),Object(W.jsx)(ee.a,{children:"Esta a\xe7\xe3o \xe9 irrevers\xedvel."})]}),Object(W.jsxs)(te.a,{children:[Object(W.jsx)(q.a,{autoFocus:!0,onClick:m,color:"primary",children:"Cancelar"}),Object(W.jsx)(q.a,{onClick:function(){t.teamStore.removeTeam(s),m(),i.push("/teams")},color:"primary",children:"Confirmar"})]})]})]}):null}))),je=a(416),he=a(408),be=a(409),me=(a(350),Object(U.a)((function(e){var t=e.id,a=e.name,r=void 0===a?"":a,i=e.image,n=void 0===i?"":i,c=e.avatarSize,s=void 0===c?50:c,o=e.fontSize,l=void 0===o?16:o,u=e.disabled,d=void 0!==u&&u,j=e.card,h=void 0!==j&&j,b=Object(R.f)();return h?Object(W.jsxs)(ce.a,{className:"team card",button:!d,onClick:function(){return d?null:b.push("/teams/".concat(t))},children:[n.length?Object(W.jsx)("img",{className:"team__image",src:n,alt:r}):null,Object(W.jsx)("div",{className:"team__data",children:Object(W.jsx)("div",{className:"team__name",style:{fontSize:l},children:r})})]}):Object(W.jsxs)(ce.a,{className:"team",button:!d,onClick:function(){return d?null:b.push("/teams/".concat(t))},children:[Object(W.jsx)(se.a,{alt:r,src:n,className:"team__avatar",style:{width:s,height:s}}),Object(W.jsx)("div",{className:"team__data",children:Object(W.jsx)("div",{className:"team__name",style:{fontSize:l},children:r})})]})}))),ve=(a(351),Object(U.a)((function(){var e=I(),t=Object(R.g)(),a=Object(R.f)(),i=e.teamStore.teamList.find((function(e){return e.id===Number(t.id)})),n=Object(r.useState)(""),c=Object(u.a)(n,2),s=c[0],d=c[1],j=Object(r.useState)(""),h=Object(u.a)(j,2),b=h[0],m=h[1],v=Object(r.useState)([]),f=Object(u.a)(v,2),O=f[0],p=f[1],x=Object(r.useState)([]),g=Object(u.a)(x,2),_=g[0],S=g[1],E=function(){var t=Object(l.a)(o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.teamStore.editTeam(i.id,{name:s,image:b,users:_});case 2:r=t.sent,a.push("/teams/".concat(r)),r&&alert("Suas altera\xe7\xf5es foram salvas.");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){d(i.name),m(i.image),S(i.users);var t=Object(y.a)(e.userStore.userList);i.users.forEach((function(e){t.forEach((function(a,r){a.id===e.id&&t.splice(r,1)}))})),p(t)}),[i]),Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(W.jsx)("div",{className:"screen create-team",children:Object(W.jsxs)(A.a,{maxWidth:"lg",children:[Object(W.jsx)("header",{className:"screen__header",children:Object(W.jsx)("h2",{children:"Editar equipe ".concat(i.name)})}),Object(W.jsxs)("main",{children:[Object(W.jsxs)("div",{className:"create-team__form",children:[Object(W.jsxs)("div",{className:"create-team__form__content",children:[Object(W.jsx)(je.a,{id:"team-name",label:"Nome",variant:"filled",value:s,onChange:function(e){d(e.target.value)}}),Object(W.jsx)(je.a,{id:"team-image",label:"Imagem",variant:"filled",value:b,onChange:function(e){m(e.target.value)}}),(null===s||void 0===s?void 0:s.length)||(null===b||void 0===b?void 0:b.length)?Object(W.jsx)("div",{className:"screen__header__preview",children:Object(W.jsx)(me,{name:s,image:b,avatarSize:80,fontSize:22,disabled:!0})}):null]}),Object(W.jsx)(q.a,{variant:"outlined",onClick:E,children:"Salvar Altera\xe7\xf5es"})]}),Object(W.jsxs)("div",{className:"create-team__user-lists",children:[Object(W.jsxs)("div",{className:"user-list",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Todos os colaboradores"})}),O.map((function(e){return Object(W.jsxs)("div",{className:"user-list__item",children:[Object(W.jsx)(oe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours,hourValue:null===e||void 0===e?void 0:e.hourValue,payment:null===e||void 0===e?void 0:e.payment},e.id),Object(W.jsx)(q.a,{className:"user-list__item__bt-add",onClick:function(){return t=e,a=O,r=_,p(ne.a.sortBy(a.filter((function(e){return e.id!==t.id})),"name")),void S(ne.a.sortBy([].concat(Object(y.a)(r),[t]),"name"));var t,a,r},children:Object(W.jsx)(he.a,{})})]},e.id)}))]}),Object(W.jsxs)("div",{className:"user-list",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Colaboradores na equipe"})}),_.map((function(e){return Object(W.jsxs)("div",{className:"user-list__item",children:[Object(W.jsx)(q.a,{className:"user-list__item__bt-add",onClick:function(){return t=e,a=O,r=_,S(ne.a.sortBy(r.filter((function(e){return e.id!==t.id})),"name")),void p(ne.a.sortBy([].concat(Object(y.a)(a),[t]),"name"));var t,a,r},children:Object(W.jsx)(be.a,{})}),Object(W.jsx)(oe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours,hourValue:null===e||void 0===e?void 0:e.hourValue,payment:null===e||void 0===e?void 0:e.payment})]},e.id)}))]})]})]})]})})}))),fe=(a(353),Object(U.a)((function(){var e=I(),t=Object(R.f)(),a=Object(r.useState)(""),i=Object(u.a)(a,2),n=i[0],c=i[1],s=Object(r.useState)(""),d=Object(u.a)(s,2),j=d[0],h=d[1],b=Object(r.useState)([]),m=Object(u.a)(b,2),v=m[0],f=m[1],O=Object(r.useState)([]),p=Object(u.a)(O,2),x=p[0],g=p[1],_=function(){var a=Object(l.a)(o.a.mark((function a(){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=e.teamStore.createTeam({name:n,image:j,users:x}),e.teamStore.fetchTeamList(),t.push("/teams/".concat(r)),r&&alert("A equipe ".concat(n," foi criada."));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(r.useEffect)((function(){f(e.userStore.userList),window.scrollTo(0,0)}),[]),Object(W.jsx)("div",{className:"screen create-team",children:Object(W.jsxs)(A.a,{maxWidth:"lg",children:[Object(W.jsx)("header",{className:"screen__header",children:Object(W.jsx)("h2",{children:"Criar equipe"})}),Object(W.jsxs)("main",{children:[Object(W.jsxs)("div",{className:"create-team__form",children:[Object(W.jsxs)("div",{className:"create-team__form__content",children:[Object(W.jsx)(je.a,{id:"team-name",label:"Nome",variant:"filled",value:n,onChange:function(e){c(e.target.value)}}),Object(W.jsx)(je.a,{id:"team-image",label:"Imagem",variant:"filled",value:j,onChange:function(e){h(e.target.value)}})]}),Object(W.jsx)(q.a,{variant:"outlined",onClick:_,children:"Criar"})]}),Object(W.jsxs)("div",{className:"create-team__user-lists",children:[Object(W.jsxs)("div",{className:"user-list",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Todos os colaboradores"})}),v.map((function(e){return Object(W.jsxs)("div",{className:"user-list__item",children:[Object(W.jsx)(oe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours,hourValue:null===e||void 0===e?void 0:e.hourValue,payment:null===e||void 0===e?void 0:e.payment},e.id),Object(W.jsx)(q.a,{className:"user-list__item__bt-add",onClick:function(){return t=e,f(ne.a.sortBy(v.filter((function(e){return e.id!==t.id})),"name")),void g(ne.a.sortBy([].concat(Object(y.a)(x),[t]),"name"));var t},children:Object(W.jsx)(he.a,{})})]},e.id)}))]}),Object(W.jsxs)("div",{className:"user-list",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Colaboradores na equipe"})}),x.map((function(e){return Object(W.jsxs)("div",{className:"user-list__item",children:[Object(W.jsx)(q.a,{className:"user-list__item__bt-add",onClick:function(){return t=e,g(ne.a.sortBy(x.filter((function(e){return e.id!==t.id})),"name")),void f(ne.a.sortBy([].concat(Object(y.a)(v),[t]),"name"));var t},children:Object(W.jsx)(be.a,{})}),Object(W.jsx)(oe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours,hourValue:null===e||void 0===e?void 0:e.hourValue,payment:null===e||void 0===e?void 0:e.payment})]},e.id)}))]})]})]})]})})}))),Oe=a(410),pe=(a(354),Object(U.a)((function(){var e,t,a=I(),i=Object(R.f)(),n=Object(r.useState)(""),c=Object(u.a)(n,2),s=c[0],o=c[1],l=Object(r.useState)([]),d=Object(u.a)(l,2),j=d[0],h=d[1];return Object(r.useEffect)((function(){s.length?h(a.teamStore.teamList.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())}))):h(a.teamStore.teamList)}),[s]),Object(r.useEffect)((function(){h(a.teamStore.teamList),window.scrollTo(0,0)}),[]),Object(W.jsxs)("div",{className:"screen teams",children:[Object(W.jsxs)(A.a,{maxWidth:"lg",children:[Object(W.jsxs)("header",{className:"screen__header",children:[Object(W.jsx)("h2",{children:"Equipes"}),Object(W.jsx)("div",{className:"screen__header__right",children:(null===a||void 0===a||null===(e=a.teamStore)||void 0===e||null===(t=e.teamList)||void 0===t?void 0:t.length)?Object(W.jsx)(je.a,{id:"filter-term",label:"Filtro",variant:"filled",value:s,onChange:function(e){o(e.target.value)}}):null})]}),Object(W.jsx)("main",{children:(null===j||void 0===j?void 0:j.length)?j.map((function(e){return Object(W.jsx)(me,{card:!0,id:e.id,name:null===e||void 0===e?void 0:e.name,image:null===e||void 0===e?void 0:e.image},e.id)})):Object(W.jsx)("div",{children:"Nenhuma equipe encontrada."})})]}),Object(W.jsx)(Y.a,{className:"teams__create-team",color:"primary","aria-label":"Criar equipe",onClick:function(){i.push("/teams/create")},children:Object(W.jsx)(Oe.a,{})})]})}))),xe=function(e){var t=e.data,a=void 0===t?{}:t;return Object(W.jsx)(le.b,{data:a,options:{responsive:!0,scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!1}}}})},ge=(a(355),Object(U.a)((function(e){var t=e.project,a=void 0===t?{}:t,r=e.time,i=void 0===r?"":r,n=e.description,c=void 0===n?"":n,s=e.disabled,o=void 0!==s&&s,l=Object(R.f)();return Object(W.jsxs)(ce.a,{button:!o,className:"time-entry",onClick:function(){return a.id?l.push("/projects/".concat(a.id)):null},style:{borderColor:a.color},children:[Object(W.jsx)("div",{className:"time-entry__top",children:Object(W.jsx)("div",{className:"time-entry__project-name",children:a.name})}),Object(W.jsxs)("div",{className:"time-entry__bottom",children:[Object(W.jsx)("div",{className:"time-entry__time",style:{borderColor:a.color},children:i.replace("PT","").replace("H","hr ").replace("M","min")}),"-",Object(W.jsx)("div",{className:"time-entry__description",children:c})]})]})}))),ye=(a(356),Object(U.a)((function(){var e,t=I(),a=Object(R.g)(),i=Object(r.useState)(null),n=Object(u.a)(i,2),c=n[0],s=n[1],o=t.userStore.userList.find((function(e){return e.id===a.id}));return Object(r.useEffect)((function(){s(o)}),[o]),Object(r.useEffect)((function(){t.userStore.fetchUserData(o),window.scrollTo(0,0)}),[]),c?Object(W.jsx)("div",{className:"screen user-detail",children:Object(W.jsxs)(A.a,{maxWidth:"lg",children:[Object(W.jsx)("header",{className:"screen__header",children:Object(W.jsxs)("div",{className:"screen__header__left",children:[Object(W.jsx)(se.a,{alt:null===c||void 0===c?void 0:c.name,src:null===c||void 0===c?void 0:c.profilePicture,className:"user-detail__avatar"}),Object(W.jsx)("h2",{children:null===c||void 0===c?void 0:c.name})]})}),Object(W.jsxs)("main",{children:[(null===c||void 0===c?void 0:c.teams.length)?Object(W.jsxs)("div",{className:"user-detail__teams",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Equipes do colaborador"})}),c.teams.map((function(e){return Object(W.jsx)(me,{id:e.id,name:null===e||void 0===e?void 0:e.name,image:null===e||void 0===e?void 0:e.image},e.id)}))]}):null,(null===c||void 0===c?void 0:c.timeEntries.length)?Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)("div",{className:"user-detail__chart",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Horas por dia"})}),Object(W.jsx)(xe,{data:{labels:c.timeEntriesByDay.map((function(e){return e.date})).reverse(),datasets:[{label:"Horas",data:c.timeEntriesByDay.map((function(e){return e.hours})).reverse(),backgroundColor:["rgba(255, 255, 255, 0.1)"],borderColor:["rgba(255, 255, 255, 0.1)"],borderWidth:1}]}})]})}):null,(null===c||void 0===c||null===(e=c.timeEntries)||void 0===e?void 0:e.length)?Object(W.jsx)("div",{className:"time-entries",children:c.timeEntriesByDay.map((function(e){return Object(W.jsxs)("div",{className:"time-entries__day",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:e.date})}),Object(W.jsx)("div",{className:"description",children:e.timeEntries.map((function(e){var t;return Object(W.jsx)(ge,{disabled:!(null===e||void 0===e||null===(t=e.project)||void 0===t?void 0:t.id),project:e.project,time:e.timeInterval.duration,description:e.description},e.id)}))})]},e.date)}))}):null,(null===c||void 0===c?void 0:c.timeEntries.length)?null:Object(W.jsx)("div",{children:"Nenhuma entrada encontrada para este usu\xe1rio no per\xedodo selecionado."})]})]})}):null}))),_e=Object(U.a)((function(){var e,t,a=I(),i=Object(r.useState)(""),n=Object(u.a)(i,2),c=n[0],s=n[1],o=Object(r.useState)([]),l=Object(u.a)(o,2),d=l[0],j=l[1];return Object(r.useEffect)((function(){c.length?j(a.userStore.userList.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())}))):j(a.userStore.userList)}),[c]),Object(r.useEffect)((function(){j(a.userStore.userList),window.scrollTo(0,0)}),[]),Object(W.jsx)("div",{className:"screen users",children:Object(W.jsxs)(A.a,{maxWidth:"lg",children:[Object(W.jsxs)("header",{className:"screen__header",children:[Object(W.jsx)("h2",{children:"Colaboradoes"}),(null===a||void 0===a||null===(e=a.userStore)||void 0===e||null===(t=e.userList)||void 0===t?void 0:t.length)?Object(W.jsx)(je.a,{id:"filter-term",label:"Filtro",variant:"filled",value:c,onChange:function(e){s(e.target.value)}}):null]}),Object(W.jsx)("main",{children:(null===d||void 0===d?void 0:d.length)?d.map((function(e){return Object(W.jsx)(oe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours,hourValue:null===e||void 0===e?void 0:e.hourValue,payment:null===e||void 0===e?void 0:e.payment},e.id)})):Object(W.jsx)("div",{children:"Nenhum colaborador encontrado."})})]})})})),Se=(a(357),Object(U.a)((function(e){var t=e.id,a=e.index,i=e.name,n=void 0===i?"":i,c=e.color,s=void 0===c?"":c,o=e.disabled,l=void 0!==o&&o,d=Object(r.useState)(!1),j=Object(u.a)(d,2),h=j[0],b=j[1],m=Object(R.f)();return Object(r.useEffect)((function(){var e=setTimeout((function(){b(!0)}),50*a+100);return function(){clearTimeout(e)}}),[]),Object(W.jsx)(ce.a,{button:!l,onClick:function(){return l?null:m.push("/projects/".concat(t))},className:"project",style:{borderColor:h?s:"transparent"},children:Object(W.jsx)("div",{className:"project__name",children:n})})}))),Ee=Object(U.a)((function(){var e,t,a=I(),i=Object(r.useState)(""),n=Object(u.a)(i,2),c=n[0],s=n[1],o=Object(r.useState)([]),l=Object(u.a)(o,2),d=l[0],j=l[1];return Object(r.useEffect)((function(){c.length?j(a.projectStore.projectList.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())}))):j(a.projectStore.projectList)}),[c]),Object(r.useEffect)((function(){j(a.projectStore.projectList),window.scrollTo(0,0)}),[]),Object(W.jsx)("div",{className:"screen projects",children:Object(W.jsxs)(A.a,{maxWidth:"lg",children:[Object(W.jsxs)("header",{className:"screen__header",children:[Object(W.jsx)("h2",{children:"Projetos"}),(null===a||void 0===a||null===(e=a.projectStore)||void 0===e||null===(t=e.projectList)||void 0===t?void 0:t.length)?Object(W.jsx)(je.a,{id:"filter-term",label:"Filtro",variant:"filled",value:c,onChange:function(e){s(e.target.value)}}):null]}),Object(W.jsx)("main",{children:(null===d||void 0===d?void 0:d.length)?d.map((function(e,t){return Object(W.jsx)(Se,{id:e.id,color:null===e||void 0===e?void 0:e.color,name:null===e||void 0===e?void 0:e.name,index:t},e.id)})):Object(W.jsx)("div",{children:"Nenhum projeto encontrado."})})]})})})),ke=(a(358),Object(U.a)((function(){var e,t,a=I(),i=Object(R.g)(),n=Object(r.useState)(null),c=Object(u.a)(n,2),s=c[0],o=c[1],l=a.projectStore.projectList.find((function(e){return e.id===i.id}));return Object(r.useEffect)((function(){o(l)}),[l]),Object(r.useEffect)((function(){a.projectStore.fetchProjectData(l),window.scrollTo(0,0)}),[]),s?Object(W.jsx)("div",{className:"screen project-detail",children:Object(W.jsxs)(A.a,{maxWidth:"lg",children:[Object(W.jsxs)("header",{className:"screen__header",children:[Object(W.jsx)("div",{className:"screen__header__left",children:Object(W.jsx)("h2",{children:null===s||void 0===s?void 0:s.name})}),Object(W.jsx)("div",{className:"screen__header__right",children:Object(W.jsxs)("div",{className:"project-detail__estimate",children:[Object(W.jsx)("div",{children:"Estimativa: ".concat(E(null===s||void 0===s?void 0:s.estimate.estimate)," horas")}),Object(W.jsx)("div",{children:"Total: ".concat(E(null===s||void 0===s?void 0:s.duration).toFixed(2)," horas")}),E(null===s||void 0===s?void 0:s.estimate.estimate)&&E(null===s||void 0===s?void 0:s.duration)?Object(W.jsx)("div",{children:"Esfor\xe7o: ".concat((E(null===s||void 0===s?void 0:s.duration)/E(null===s||void 0===s?void 0:s.estimate.estimate)*100).toFixed(2),"%")}):null]})})]}),Object(W.jsxs)("main",{children:[(null===s||void 0===s?void 0:s.fetchedTimeEntries)&&(null===s||void 0===s?void 0:s.timeEntriesByUser.length)?Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)("div",{className:"project-detail__chart",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Horas por colaborador"})}),Object(W.jsx)(ue,{data:{labels:ne.a.orderBy(s.timeEntriesByUser,"hours","desc").map((function(e){return e.name})),datasets:[{label:"Horas",data:ne.a.orderBy(s.timeEntriesByUser,"hours","desc").map((function(e){return(null===e||void 0===e?void 0:e.hours)?e.hours.toFixed(2):0})),backgroundColor:["".concat(s.color,"85")],borderWidth:0}]}})]})}):null,(null===s||void 0===s||null===(e=s.timeEntriesByUser)||void 0===e?void 0:e.length)?Object(W.jsxs)("div",{className:"user-list",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Colaboradores no projeto"})}),s.timeEntriesByUser.map((function(e){return Object(W.jsx)(oe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours,hourValue:null===e||void 0===e?void 0:e.hourValue,payment:null===e||void 0===e?void 0:e.payment},e.id)}))]}):null,!(null===s||void 0===s?void 0:s.fetchedTimeEntries)||(null===s||void 0===s?void 0:s.timeEntriesByUser.length)||(null===s||void 0===s||null===(t=s.timeEntriesByUser)||void 0===t?void 0:t.length)?null:Object(W.jsx)("div",{children:"Nenhuma entrada encontrada para este projeto no per\xedodo selecionado."})]})]})}):null}))),Ne=a(411),Le=(a(359),Object(U.a)((function(){var e,t,a,i,n,c,s=I(),j=Object(r.useState)(""),h=Object(u.a)(j,2),b=h[0],m=h[1],v=Object(r.useState)(!1),f=Object(u.a)(v,2),O=f[0],x=f[1],g=p("clockify-api-key"),y=Object(u.a)(g,1)[0],_=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,Object(d.flowResult)(s.authStore.authenticate(b));case 3:x(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=document.querySelector(".login .fetch-data-log");e&&(e.scrollTop=e.scrollHeight)}),[s.authStore.fetchDataLog.length]),Object(r.useEffect)((function(){(null===y||void 0===y?void 0:y.length)&&m(y)}),[]),Object(W.jsx)("div",{className:"screen login",children:Object(W.jsxs)(A.a,{maxWidth:"lg",className:"login__container",children:[Object(W.jsx)("h1",{children:"Clockify Teams"}),Object(W.jsx)("div",{className:"login__box",children:s.authStore.isConfirmingIdentity?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(oe,{disabled:!0,name:null===s||void 0===s||null===(e=s.authStore)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name,profilePicture:null===s||void 0===s||null===(a=s.authStore)||void 0===a||null===(i=a.user)||void 0===i?void 0:i.profilePicture,email:null===s||void 0===s||null===(n=s.authStore)||void 0===n||null===(c=n.user)||void 0===c?void 0:c.email}),Object(W.jsx)("div",{className:"fetch-data-log",children:s.authStore.fetchDataLog.map((function(e){var t=e.text,a=e.color;return Object(W.jsx)("div",{style:{color:a},children:t},t)}))})]}):Object(W.jsxs)(W.Fragment,{children:[s.authStore.autoLogin?null:Object(W.jsx)(je.a,{id:"api-key",label:"Clockify API Key",variant:"filled",value:b,onChange:function(e){m(e.target.value)}}),O||s.authStore.autoLogin?Object(W.jsx)(Ne.a,{}):Object(W.jsx)(q.a,{variant:"outlined",onClick:_,children:"Autenticar"})]})})]})})}))),we=Object(U.a)((function(){var e,t=I();return Object(W.jsx)(F.a,{children:(null===t||void 0===t||null===(e=t.authStore)||void 0===e?void 0:e.isAuthenticated)?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(X,{}),Object(W.jsxs)(R.c,{children:[Object(W.jsx)(R.a,{path:"/users/:id",children:Object(W.jsx)(ye,{})}),Object(W.jsx)(R.a,{path:"/users",children:Object(W.jsx)(_e,{})}),Object(W.jsx)(R.a,{path:"/projects/:id",children:Object(W.jsx)(ke,{})}),Object(W.jsx)(R.a,{path:"/projects",children:Object(W.jsx)(Ee,{})}),Object(W.jsx)(R.a,{path:"/teams/edit/:id",children:Object(W.jsx)(ve,{})}),Object(W.jsx)(R.a,{path:"/teams/create",children:Object(W.jsx)(fe,{})}),Object(W.jsx)(R.a,{path:"/teams/:id",children:Object(W.jsx)(de,{})}),Object(W.jsx)(R.a,{path:"/",children:Object(W.jsx)(pe,{})})]})]}):Object(W.jsx)(R.c,{children:Object(W.jsx)(R.a,{path:"/",children:Object(W.jsx)(Le,{})})})})})),Ce=a(171),Te=a(412),De=a(413),Pe={palette:{type:"dark",primary:{main:"#ecf0f1"}}},Be=function(e){var t=e.children,a=Object(Ce.a)(Pe);return Object(W.jsxs)(Te.a,{theme:a,children:[Object(W.jsx)(De.a,{}),t]})},Ie=a(415),Fe=a(414),Re=(a(360),function(e){return e.active?Object(W.jsx)("div",{className:"loader",children:Object(W.jsx)(Ne.a,{})}):null}),Ue=(a(361),new Date),Ae=Object(U.a)((function(){var e=I(),t=Object(r.useState)(!1),a=Object(u.a)(t,2),i=a[0],n=a[1],c=Object(r.useState)(new Date(Ue.getFullYear(),Ue.getMonth(),1)),s=Object(u.a)(c,2),j=s[0],h=s[1],b=Object(r.useState)(new Date(Ue.getFullYear(),Ue.getMonth()+1,0)),m=Object(u.a)(b,2),v=m[0],f=m[1],O=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.authStore.clearDataLog(),e.authStore.setStatusConfirmingIdentity(),e.userStore.setQueryDate(j,v),n(!0),t.next=6,Object(d.flowResult)(e.projectStore.fetchProjectList());case 6:return t.next=8,Object(d.flowResult)(e.userStore.fetchUserList());case 8:return t.next=10,Object(d.flowResult)(e.userStore.fetchAllUsersTimeEntries());case 10:e.teamStore.fetchTeamList(),n(!1),e.authStore.confirmIdentity();case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return e.authStore.isUnauthenticated?null:Object(W.jsxs)("div",{className:"query-date-selector",children:[Object(W.jsx)(Re,{active:i}),Object(W.jsxs)("div",{className:"query-date-selector__content",children:[Object(W.jsx)(Ie.a,{margin:"normal",id:"start-date",label:"Data inicial",format:"dd/MM/yyyy",value:j,onChange:h,KeyboardButtonProps:{"aria-label":"Selecione a data inicial"},disabled:i}),Object(W.jsx)(Ie.a,{margin:"normal",id:"end-date",label:"Data final",format:"dd/MM/yyyy",value:v,onChange:f,KeyboardButtonProps:{"aria-label":"Selecione a data final"},disabled:i}),Object(W.jsx)(q.a,{disabled:i,onClick:O,className:"query-date-selector__bt-search",children:Object(W.jsx)(Fe.a,{})})]})]})})),qe=function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),a=t[0],i=t[1],n=p("clockify-api-key"),c=Object(u.a)(n,1)[0],s=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(j.wrapRoot)({RootStore:D,env:v}),i(t),!(null===c||void 0===c?void 0:c.length)){e.next=7;break}return t.authStore.setAutoLogin(!0),e.next=6,Object(d.flowResult)(t.authStore.authenticate(c));case 6:t.authStore.setAutoLogin(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){s()}),[]),a?Object(W.jsx)("div",{className:"app",children:Object(W.jsx)(B,{value:a,children:Object(W.jsx)(h.a,{utils:b.a,children:Object(W.jsxs)(Be,{children:[Object(W.jsx)(we,{}),Object(W.jsx)(Ae,{})]})})})}):null};a(362),a(363),a(364),a(365);c.a.render(Object(W.jsx)(i.a.StrictMode,{children:Object(W.jsx)(qe,{})}),document.getElementById("root"))}},[[366,1,2]]]);
//# sourceMappingURL=main.e34d0214.chunk.js.map