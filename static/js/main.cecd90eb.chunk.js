(this["webpackJsonpclockify-teams"]=this["webpackJsonpclockify-teams"]||[]).push([[0],{194:function(e,t,r){},231:function(e,t,r){},237:function(e,t,r){},241:function(e,t,r){},242:function(e,t,r){},243:function(e,t,r){},349:function(e,t,r){},350:function(e,t,r){},351:function(e,t,r){},353:function(e,t,r){},354:function(e,t,r){},355:function(e,t,r){},356:function(e,t,r){},357:function(e,t,r){},358:function(e,t,r){},359:function(e,t,r){},364:function(e,t,r){"use strict";r.r(t);var a=r(0),i=r.n(a),n=r(18),c=r.n(n),s=(r(194),r(21)),o=r.n(s),l=r(49),u=r(11),d=r(12),j=r(33),h=r(170),b=r(163),m=r.n(b).a.create({baseURL:"https://api.clockify.me/api/v1",timeout:1e4}),v=r(8),f=r(9),O=r(5),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=JSON.parse(localStorage.getItem("clockify-teams@".concat(e)))||{},r=function(t){localStorage.setItem("clockify-teams@".concat(e),JSON.stringify(t))};return[t,r]},x=function(){function e(t){if(Object(v.a)(this,e),this.id=null,this.name=null,this.email=null,this.defaultWorkspace=null,this.profilePicture=null,this.timeEntries=[],this.timeEntriesByDay=[],this.teams=[],this.hours=null,Object(O.makeObservable)(this,{id:O.observable,name:O.observable,email:O.observable,defaultWorkspace:O.observable,profilePicture:O.observable,timeEntries:O.observable,timeEntriesByDay:O.observable,teams:O.observable,hours:O.observable}),null==t||null==t.id)throw new Error("Invalid user constructor");var r=t.id,a=t.name,i=t.email,n=t.defaultWorkspace,c=t.profilePicture,s=t.timeEntries,o=t.timeEntriesByDay,l=t.teams,u=t.hours;this.id=r,this.name=a||"",this.email=i||"",this.defaultWorkspace=n||"",this.profilePicture=c||"",this.timeEntries=s||[],this.timeEntriesByDay=o||[],this.teams=l||[],this.hours=u||0}return Object(f.a)(e,null,[{key:"fromApi",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id,a=t.name,i=t.email,n=t.defaultWorkspace,c=t.profilePicture,s=t.timeEntries,o=t.timeEntriesByDay,l=t.teams,u=t.hours;return new e({id:r,name:a,email:i,defaultWorkspace:n,profilePicture:c,timeEntries:s,timeEntriesByDay:o,teams:l,hours:u})}}]),e}(),g=function(){function e(){Object(v.a)(this,e),this.user=null,this.authStatus="unauthenticated",this.autoLogin=!1,this.fetchDataLog=[],Object(O.makeObservable)(this,{user:O.observable,authStatus:O.observable,autoLogin:O.observable,fetchDataLog:O.observable,isAuthenticated:O.computed,isConfirmingIdentity:O.computed,setUser:O.action.bound,confirmIdentity:O.action.bound,unauthenticate:O.action.bound,setAutoLogin:O.action.bound,feedFetchDataLog:O.action.bound,authenticate:O.flow})}return Object(f.a)(e,[{key:"isAuthenticated",get:function(){return"authenticated"===this.authStatus}},{key:"isConfirmingIdentity",get:function(){return"confirming-identity"===this.authStatus}},{key:"setUser",value:function(e){this.user=x.fromApi(e)}},{key:"confirmIdentity",value:function(){this.authStatus="authenticated"}},{key:"setAutoLogin",value:function(e){this.autoLogin=e}},{key:"feedFetchDataLog",value:function(e,t){var r="";switch(t){case"success":r="#27ae60";break;case"error":r="#c0392b";break;default:r="#ffffff"}"string"===typeof e&&e.length&&this.fetchDataLog.push({text:e,color:r})}},{key:"unauthenticate",value:function(){this.authStatus="unauthenticated",this.user=null,Object(d.getEnv)().defaults.headers.common["X-Api-Key"]=null}},{key:"authenticate",value:o.a.mark((function e(t){var r,a,i,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=p("clockify-api-key"),a=Object(u.a)(r,2),i=a[1],Object(d.getEnv)().defaults.headers.common["X-Api-Key"]=t,i(t),e.next=6,Object(d.getEnv)().get("/user");case 6:if(200===(null===(n=e.sent)||void 0===n?void 0:n.status)){e.next=10;break}return alert("Invalid Clockify API Key"),e.abrupt("return",!1);case 10:if(!(null===n||void 0===n?void 0:n.data)){e.next=14;break}return this.setUser(n.data),this.authStatus="confirming-identity",e.abrupt("return",!0);case 14:return this.unauthenticate(),e.abrupt("return",!1);case 18:return e.prev=18,e.t0=e.catch(0),console.log(e.t0),this.unauthenticate(),alert("Invalid Clockify API Key"),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,this,[[0,18]])}))}]),e}(),y=r(20),_=r(13),S=r(14),E=function(e){try{var t=null===e||void 0===e?void 0:e.split("H"),r=0,a=0;if(null===t||void 0===t?void 0:t.length)return 2===(null===t||void 0===t?void 0:t.length)?(r=Number(t[0].split("PT")[1])||0,a=Number(t[1].split("M")[0])||0):"PT0S"!==t[0]&&(a=Number(t[0].replace("PT","").replace("M",""))),Number(r+a/60)}catch(i){console.log(i)}},k=function(e){try{var t=null===e||void 0===e?void 0:e.split("T");if(null===t||void 0===t?void 0:t.length){var r=t[0].split("-");return"".concat(r[2],"/").concat(r[1],"/").concat(r[0])}}catch(a){console.log(a)}},N=function(){function e(){Object(v.a)(this,e),this.userList=[],this.queryStartDate=null,this.queryEndDate=null,Object(O.makeObservable)(this,{userList:O.observable,queryStartDate:O.observable,queryEndDate:O.observable,setUserList:O.action.bound,fetchUserData:O.action.bound,fetchUserList:O.flow,fetchUserTimeEntries:O.flow,fetchAllUsersTimeEntries:O.flow})}return Object(f.a)(e,[{key:"setUserList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.userList=e.map((function(e){return x.fromApi(e)}))}},{key:"setQueryDate",value:function(e,t){this.queryStartDate=e,this.queryEndDate=t}},{key:"fetchUserData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t,r=e.id,a=this.userList.find((function(e){return e.id===r})),i=[],n=[],c=Object(S.a)(a.timeEntries);try{var s=function(){var e,r,a=t.value,n=null===a||void 0===a||null===(e=a.timeInterval)||void 0===e?void 0:e.duration,c=null===a||void 0===a||null===(r=a.timeInterval)||void 0===r?void 0:r.start,s=Object(d.getRoot)().projectStore.projectList.find((function(e){return e.id===(null===a||void 0===a?void 0:a.projectId)})),o=i.find((function(e){return e.date===k(c)}));(null===n||void 0===n?void 0:n.length)&&(null===c||void 0===c?void 0:c.length)&&(o?i=i.map((function(e){return e.date===k(c)?{date:e.date,timeEntries:[].concat(Object(y.a)(e.timeEntries),[Object(_.a)(Object(_.a)({},a),{},{project:s||{name:"Sem projeto",color:"#ffffff"}})]),hours:e.hours+E(n)}:e})):i.push({date:k(c),timeEntries:[Object(_.a)(Object(_.a)({},a),{},{project:s||{name:"Sem projeto",color:"#ffffff"}})],hours:E(n)}))};for(c.s();!(t=c.n()).done;)s()}catch(m){c.e(m)}finally{c.f()}var o,l=Object(S.a)(Object(d.getRoot)().teamStore.teamList);try{for(l.s();!(o=l.n()).done;){var u,j=o.value,h=Object(S.a)(j.users);try{for(h.s();!(u=h.n()).done;){var b=u.value;b.id===r&&n.push(j)}}catch(m){h.e(m)}finally{h.f()}}}catch(m){l.e(m)}finally{l.f()}return this.setUserList(this.userList.map((function(t){return t.id===r?Object(_.a)(Object(_.a)({},e),{},{timeEntriesByDay:i,teams:n}):t}))),!1}catch(v){return console.log(v),!1}}},{key:"fetchUserList",value:o.a.mark((function e(){var t,r,a,i,n,c,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},e.prev=1,Object(d.getRoot)().authStore.feedFetchDataLog("fetching user list..."),a=t.pageSize,i=void 0===a?1e3:a,n=Object(d.getRoot)().authStore.user.defaultWorkspace,e.next=7,Object(d.getEnv)().get("/workspaces/".concat(n,"/users"),{params:{"page-size":i,status:"ACTIVE"}});case 7:if(200===(c=e.sent).status){e.next=11;break}return Object(d.getRoot)().authStore.feedFetchDataLog("fetch user list error","error"),e.abrupt("return",!1);case 11:if(!(null===c||void 0===c||null===(r=c.data)||void 0===r?void 0:r.length)){e.next=15;break}return this.setUserList(c.data),Object(d.getRoot)().authStore.feedFetchDataLog("fetch user list success","success"),e.abrupt("return",!0);case 15:return Object(d.getRoot)().authStore.feedFetchDataLog("fetch user list error","error"),e.abrupt("return",!1);case 19:return e.prev=19,e.t0=e.catch(1),console.log(e.t0),Object(d.getRoot)().authStore.feedFetchDataLog("fetch user list error","error"),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,this,[[1,19]])}))},{key:"fetchUserTimeEntries",value:o.a.mark((function e(){var t,r,a,i,n,c,s,l,u,j,h,b,m,v=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:{},r=t.id,a=t.name,i=t.pageSize,n=void 0===i?1e3:i,e.prev=2,Object(d.getRoot)().authStore.feedFetchDataLog("fetching user ".concat(a," time entries...")),c=Object(d.getRoot)().authStore.user.defaultWorkspace,e.next=7,Object(d.getEnv)().get("/workspaces/".concat(c,"/user/").concat(r,"/time-entries"),{params:{start:this.queryStartDate,end:this.queryEndDate,"page-size":n}});case 7:if(200===(s=e.sent).status){e.next=11;break}return Object(d.getRoot)().authStore.feedFetchDataLog("fetch user ".concat(a," time entries error"),"error"),e.abrupt("return",!1);case 11:if(!(null===s||void 0===s?void 0:s.data)){e.next=17;break}l=0,u=Object(S.a)(s.data);try{for(u.s();!(j=u.n()).done;)b=j.value,(null===(m=null===b||void 0===b||null===(h=b.timeInterval)||void 0===h?void 0:h.duration)||void 0===m?void 0:m.length)&&(l+=E(m))}catch(o){u.e(o)}finally{u.f()}return Object(d.getRoot)().authStore.feedFetchDataLog("fetch user ".concat(a," time entries success"),"success"),e.abrupt("return",{timeEntries:s.data,hours:l});case 17:return Object(d.getRoot)().authStore.feedFetchDataLog("fetch user ".concat(a," time entries error"),"error"),e.abrupt("return",!1);case 21:return e.prev=21,e.t0=e.catch(2),console.log(e.t0),Object(d.getRoot)().authStore.feedFetchDataLog("fetch user ".concat(a," time entries error"),"error"),e.abrupt("return",!1);case 26:case"end":return e.stop()}}),e,this,[[2,21]])}))},{key:"fetchAllUsersTimeEntries",value:o.a.mark((function e(){var t,r,a,i,n,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,Object(d.getRoot)().authStore.feedFetchDataLog("fetching all users time entries..."),t=[],r=Object(S.a)(this.userList),e.prev=4,r.s();case 6:if((a=r.n()).done){e.next=14;break}return i=a.value,e.next=10,this.fetchUserTimeEntries(i);case 10:(n=e.sent)&&(c=n.timeEntries,s=n.hours,t.push(Object(_.a)(Object(_.a)({},i),{},{timeEntries:c,hours:s})));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:if(!t.length){e.next=26;break}return this.setUserList(t),Object(d.getRoot)().authStore.feedFetchDataLog("fetch all users time entries success","success"),e.abrupt("return",!0);case 26:return Object(d.getRoot)().authStore.feedFetchDataLog("fetch all users time entries error","error"),e.abrupt("return",!1);case 30:return e.prev=30,e.t1=e.catch(0),Object(d.getRoot)().authStore.feedFetchDataLog("fetch all users time entries error","error"),e.abrupt("return",!1);case 34:case"end":return e.stop()}}),e,this,[[0,30],[4,16,19,22]])}))}]),e}(),L=function(){function e(t){if(Object(v.a)(this,e),this.id=null,this.name=null,this.email=null,this.workspaceId=null,this.color=null,this.duration=null,this.estimate=null,this.users=[],this.fetchedTimeEntries=!1,this.timeEntriesByUser=[],Object(O.makeObservable)(this,{id:O.observable,name:O.observable,email:O.observable,workspaceId:O.observable,color:O.observable,duration:O.observable,estimate:O.observable,users:O.observable,fetchedTimeEntries:O.observable,timeEntriesByUser:O.observable}),null==t||null==t.id)throw new Error("Invalid Project constructor");var r=t.id,a=t.name,i=t.email,n=t.workspaceId,c=t.color,s=t.duration,o=t.estimate,l=t.users,u=t.fetchedTimeEntries,d=t.timeEntriesByUser;this.id=r,this.name=a||"",this.email=i||"",this.workspaceId=n||"",this.color=c||"",this.duration=s||"",this.estimate=o||"",this.users=l||[],this.fetchedTimeEntries=u||!1,this.timeEntriesByUser=d||[]}return Object(f.a)(e,null,[{key:"fromApi",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id,a=t.name,i=t.email,n=t.workspaceId,c=t.color,s=t.duration,o=t.estimate,l=t.users,u=t.fetchedTimeEntries,d=t.timeEntriesByUser;return new e({id:r,name:a,email:i,workspaceId:n,color:c,duration:s,estimate:o,users:l,fetchedTimeEntries:u,timeEntriesByUser:d})}}]),e}(),w=function(){function e(){Object(v.a)(this,e),this.projectList=[],Object(O.makeObservable)(this,{projectList:O.observable,setProjectList:O.action.bound,fetchProjectData:O.action.bound,fetchProjectList:O.flow})}return Object(f.a)(e,[{key:"setProjectList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.projectList=e.map((function(e){return L.fromApi(e)}))}},{key:"fetchProjectList",value:o.a.mark((function e(){var t,r,a,i,n,c,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},e.prev=1,Object(d.getRoot)().authStore.feedFetchDataLog("fetching project list..."),a=t.pageSize,i=void 0===a?1e3:a,n=Object(d.getRoot)().authStore.user.defaultWorkspace,e.next=7,Object(d.getEnv)().get("/workspaces/".concat(n,"/projects"),{params:{archived:!1,"page-size":i}});case 7:if(200===(c=e.sent).status){e.next=11;break}return Object(d.getRoot)().authStore.feedFetchDataLog("fetch project list error","error"),e.abrupt("return",!1);case 11:if(!(null===c||void 0===c||null===(r=c.data)||void 0===r?void 0:r.length)){e.next=15;break}return this.setProjectList(c.data),Object(d.getRoot)().authStore.feedFetchDataLog("fetch project list success","success"),e.abrupt("return",!0);case 15:return e.abrupt("return",!1);case 18:return e.prev=18,e.t0=e.catch(1),console.log(e.t0),Object(d.getRoot)().authStore.feedFetchDataLog("fetch project list error","error"),e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e,this,[[1,18]])}))},{key:"fetchProjectData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var r=function(){var r,a=t.id,i=[],n=Object(S.a)(Object(d.getRoot)().userStore.userList);try{for(n.s();!(r=n.n()).done;){var c,s=r.value,o=s.timeEntries.filter((function(e){return e.projectId===a})),l=Object(S.a)(o);try{var u=function(){var e,t=c.value,r=i.find((function(e){return e.id===t.userId})),a=0,n=null===t||void 0===t||null===(e=t.timeInterval)||void 0===e?void 0:e.duration;(null===n||void 0===n?void 0:n.length)&&(a+=E(n)),r?i=i.map((function(e){return e.id===t.userId?Object(_.a)(Object(_.a)({},e),{},{timeEntries:[].concat(Object(y.a)(e.timeEntries),[t]),hours:e.hours+a}):e})):i.push(Object(_.a)(Object(_.a)({},s),{},{timeEntries:[t],hours:a}))};for(l.s();!(c=l.n()).done;)u()}catch(j){l.e(j)}finally{l.f()}}}catch(j){n.e(j)}finally{n.f()}return e.setProjectList(e.projectList.map((function(e){return e.id===a?Object(_.a)(Object(_.a)({},t),{},{timeEntriesByUser:i,fetchedTimeEntries:!0}):e}))),{v:!0}}();if("object"===typeof r)return r.v}catch(a){return console.log(a),!1}}}]),e}(),T=function(){function e(t){if(Object(v.a)(this,e),this.id=null,this.name=null,this.image=null,this.users=[],this.fetchedTimeEntries=!1,this.timeEntriesByProject=[],Object(O.makeObservable)(this,{id:O.observable,name:O.observable,image:O.observable,users:O.observable,fetchedTimeEntries:O.observable,timeEntriesByProject:O.observable}),console.log(t.id),null==t||null==t.id)throw new Error("Invalid Team constructor");var r=t.id,a=t.name,i=t.image,n=t.users,c=t.fetchedTimeEntries,s=t.timeEntriesByProject;this.id=r,this.name=a||"",this.image=i||"",this.users=n||[],this.fetchedTimeEntries=c||!1,this.timeEntriesByProject=s||[]}return Object(f.a)(e,null,[{key:"fromApi",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id,a=t.name,i=t.image,n=t.users,c=t.fetchedTimeEntries,s=t.timeEntriesByProject;return new e({id:r,name:a,image:i,users:n,fetchedTimeEntries:c,timeEntriesByProject:s})}}]),e}(),C=function(){function e(){Object(v.a)(this,e),this.teamList=[],Object(O.makeObservable)(this,{teamList:O.observable,setTeamList:O.action.bound,createTeam:O.action.bound,editTeam:O.action.bound,fetchTeamList:O.action.bound,fetchTeamData:O.action.bound})}return Object(f.a)(e,[{key:"createTeam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=e.users,r=p("team-list"),a=Object(u.a)(r,2),i=a[0],n=a[1],c=i||[],s=1;return c.length?(s=c.length+1,n([].concat(Object(y.a)(c),[Object(_.a)(Object(_.a)({},e),{},{id:s,users:t.map((function(e){return e.id}))})]))):n([Object(_.a)(Object(_.a)({},e),{},{id:1,users:t.map((function(e){return e.id}))})]),s}catch(o){return console.log(o),!1}finally{this.fetchTeamList()}}},{key:"editTeam",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r=p("team-list"),a=Object(u.a)(r,2),i=a[0],n=a[1],c=t.users;return n(i.map((function(r){return r.id===e?Object(_.a)(Object(_.a)(Object(_.a)({},r),t),{},{users:c.map((function(e){return e.id}))}):r}))),e}catch(s){return console.log(s),!1}finally{this.fetchTeamList()}}},{key:"removeTeam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=p("team-list"),r=Object(u.a)(t,2),a=r[0],i=r[1],n=a.filter((function(t){return t.id!==e.id}));i(n),this.setTeamList(n.map((function(e){return Object(_.a)(Object(_.a)({},e),{},{users:Object(d.getRoot)().userStore.userList.filter((function(t){return e.users.includes(t.id)}))})})))}catch(c){console.log(c)}}},{key:"setTeamList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.teamList=e.map((function(e){return T.fromApi(e)}))}},{key:"fetchTeamList",value:function(){try{Object(d.getRoot)().authStore.feedFetchDataLog("fetching team list...");var e=p("team-list"),t=Object(u.a)(e,1)[0];return console.log(t),t.length&&(this.setTeamList(t.map((function(e){return Object(_.a)(Object(_.a)({},e),{},{users:Object(d.getRoot)().userStore.userList.filter((function(t){return e.users.includes(t.id)}))})}))),Object(d.getRoot)().authStore.feedFetchDataLog("fetch team list success","success")),!1}catch(r){return console.log(r),Object(d.getRoot)().authStore.feedFetchDataLog("fetch team list error","error"),!1}}},{key:"fetchTeamData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t,r=e.id,a=e.users,i=void 0===a?[]:a,n=[],c=[],s=Object(S.a)(i);try{var o=function(){var e=t.value,r=Object(d.getRoot)().userStore.userList.find((function(t){return t.id===e.id}));if(r){var a,i=r.timeEntries,s=r.hours,o=Object(S.a)(i);try{var l=function(){var e,t=a.value,r=c.find((function(e){return e.id===t.projectId})),i=0,n=null===t||void 0===t||null===(e=t.timeInterval)||void 0===e?void 0:e.duration;(null===n||void 0===n?void 0:n.length)&&(i+=E(n)),r?c=c.map((function(e){return e.id===t.projectId?Object(_.a)(Object(_.a)({},e),{},{id:t.projectId,timeEntries:[].concat(Object(y.a)(e.timeEntries),[t]),hours:e.hours+i}):e})):c.push({id:t.projectId,timeEntries:[t],hours:i})};for(o.s();!(a=o.n()).done;)l()}catch(j){o.e(j)}finally{o.f()}var u=Object(d.getRoot)().userStore.userList.find((function(t){return t.id===e.id}));n.push(Object(_.a)(Object(_.a)({},u),{},{timeEntries:i,hours:s}))}};for(s.s();!(t=s.n()).done;)o()}catch(m){s.e(m)}finally{s.f()}var l,u=0,j=Object(S.a)(c);try{var h=function(){var e=l.value;if(e.id){var t=Object(d.getRoot)().projectStore.projectList.find((function(t){return t.id===e.id}));t&&(c[u]=Object(_.a)(Object(_.a)({},c[u]),{},{name:t.name,color:t.color}))}else c[u]=Object(_.a)(Object(_.a)({},c[u]),{},{name:"Sem projeto",color:"#ffffff"});u++};for(j.s();!(l=j.n()).done;)h()}catch(m){j.e(m)}finally{j.f()}var b=Object(_.a)(Object(_.a)({},e),{},{users:n,timeEntriesByProject:c,fetchedTimeEntries:!0});return this.setTeamList(this.teamList.map((function(e){return e.id===r?b:e}))),b}catch(v){return console.log(v),!1}}}]),e}(),D=function(){function e(){Object(v.a)(this,e),this.authStore=null,this.userStore=null,this.projectStore=null,this.teamStore=null}return Object(f.a)(e,[{key:"init",value:function(){this.authStore=new g,this.userStore=new N,this.projectStore=new w,this.teamStore=new C}}]),e}(),P=Object(a.createContext)({}),B=P.Provider,F=function(){return Object(a.useContext)(P)},I=r(34),R=r(22),U=r(19),A=r(396),q=r(392),W=(r(231),r(1)),V=[{route:"/",label:"Projetos"},{route:"/users",label:"Colaboradores"},{route:"/teams",label:"Equipes"}],z=function(e){var t=e.vertical,r=e.drawer,a=Object(R.f)();return Object(W.jsx)("nav",{className:"menu ".concat(t?"vertical":""),children:Object(W.jsx)("ul",{className:"menu__list",children:V.map((function(e){return Object(W.jsx)("li",{className:"menu__list__item",children:Object(W.jsx)(q.a,{className:"menu__list__item__button",fullWidth:t,color:"primary",onClick:function(){return t=e.route,a.push(t),void(r&&r.close());var t},children:e.label})},e.route)}))})})},H=r(415),M=r(167),K=r.n(M),J=(r(237),function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),r=t[0],i=t[1],n=function(){i(!0)},c=function(){i(!1)};return Object(W.jsxs)("div",{className:"drawer",children:[Object(W.jsx)(q.a,{onClick:n,children:Object(W.jsx)(K.a,{color:"primary"})}),Object(W.jsx)(H.a,{anchor:"left",open:r,onClose:c,onOpen:n,children:Object(W.jsx)("div",{className:"drawer__content",children:Object(W.jsx)(z,{vertical:!0,drawer:{close:c}})})})]})}),Q=(r(241),function(){return Object(W.jsx)("div",{className:"logo",children:"Clockify Teams"})}),X=(r(242),Object(U.a)((function(){return Object(W.jsx)("header",{className:"header",children:Object(W.jsx)(A.a,{maxWidth:"xl",children:Object(W.jsxs)("div",{className:"header__content",children:[Object(W.jsx)(Q,{}),Object(W.jsx)("div",{className:"header__menu",children:Object(W.jsx)(z,{})}),Object(W.jsx)("div",{className:"header__drawer",children:Object(W.jsx)(J,{})})]})})})}))),Y=r(399),Z=r(401),G=r(402),$=r(403),ee=r(404),te=r(405),re=r(398),ae=r(400),ie=r(25),ne=r.n(ie),ce=r(397),se=r(418),oe=(r(243),Object(U.a)((function(e){var t=e.id,r=e.name,a=void 0===r?"":r,i=e.profilePicture,n=void 0===i?"":i,c=e.email,s=void 0===c?"":c,o=e.disabled,l=Object(R.f)();return Object(W.jsxs)(ce.a,{button:!o,onClick:function(){return o?null:l.push("/users/".concat(t))},className:"user",children:[Object(W.jsx)(se.a,{alt:a,src:n,className:"user__avatar"}),Object(W.jsxs)("div",{className:"user__data",children:[Object(W.jsx)("div",{className:"user__name",children:a}),Object(W.jsx)("div",{className:"user__email",children:s})]})]})}))),le=r(101),ue=function(e){var t=e.data,r=void 0===t?{}:t;return Object(W.jsx)(le.a,{data:r,options:{responsive:!0,indexAxis:"y",scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!1}}}})},de=(r(349),Object(U.a)((function(){var e,t=F(),r=Object(R.g)(),i=Object(R.f)(),n=Object(a.useState)(null),c=Object(u.a)(n,2),s=c[0],o=c[1],l=Object(a.useState)(!1),d=Object(u.a)(l,2),j=d[0],h=d[1],b=t.teamStore.teamList.find((function(e){return e.id===Number(r.id)})),m=function(){h(!1)};return Object(a.useEffect)((function(){o(b)}),[b]),Object(a.useEffect)((function(){t.teamStore.fetchTeamData(b),window.scrollTo(0,0)}),[]),s?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("div",{className:"screen team-detail",children:[Object(W.jsxs)(A.a,{maxWidth:"xl",children:[Object(W.jsxs)("header",{className:"screen__header",children:[Object(W.jsxs)("div",{className:"screen__header__left",children:[Object(W.jsx)(se.a,{alt:null===s||void 0===s?void 0:s.name,src:null===s||void 0===s?void 0:s.image,className:"team-detail__avatar"}),Object(W.jsx)("h2",{children:null===s||void 0===s?void 0:s.name})]}),Object(W.jsx)("div",{className:"screen__header__right",children:Object(W.jsx)(q.a,{onClick:function(){h(!0)},children:Object(W.jsx)(re.a,{})})})]}),Object(W.jsxs)("main",{children:[(null===s||void 0===s?void 0:s.fetchedTimeEntries)?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("div",{className:"team-detail__chart",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Horas por projeto"})}),Object(W.jsx)(ue,{data:{labels:ne.a.orderBy(s.timeEntriesByProject,"hours","desc").map((function(e){return e.name})),datasets:[{label:"Horas",data:ne.a.orderBy(s.timeEntriesByProject,"hours","desc").map((function(e){return(null===e||void 0===e?void 0:e.hours)?e.hours.toFixed(2):0})),backgroundColor:ne.a.orderBy(s.timeEntriesByProject,"hours","desc").map((function(e){return"".concat(e.color,"85")})),borderWidth:0}]}})]}),Object(W.jsxs)("div",{className:"team-detail__chart",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Horas por colaborador"})}),Object(W.jsx)(ue,{data:{labels:ne.a.orderBy(s.users,"hours","desc").map((function(e){return e.name})),datasets:[{label:"Horas",data:ne.a.orderBy(s.users,"hours","desc").map((function(e){return(null===e||void 0===e?void 0:e.hours)?e.hours.toFixed(2):0})),backgroundColor:["rgba(255, 255, 255, 0.08)"],borderWidth:0}]}})]})]}):null,Object(W.jsxs)("div",{className:"user-list",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Colaboradores na equipe"})}),(null===s||void 0===s||null===(e=s.users)||void 0===e?void 0:e.length)?s.users.map((function(e){return Object(W.jsx)(oe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours,hourValue:null===e||void 0===e?void 0:e.hourValue,payment:null===e||void 0===e?void 0:e.payment},e.id)})):null]})]})]}),Object(W.jsx)(Y.a,{className:"team-detail__edit-team",color:"primary","aria-label":"Editar equipe",onClick:function(){i.push("/teams/edit/".concat(s.id))},children:Object(W.jsx)(ae.a,{})})]}),Object(W.jsxs)(Z.a,{open:j,onClose:m,"aria-labelledby":"draggable-dialog-title",children:[Object(W.jsx)(G.a,{style:{cursor:"move"},id:"draggable-dialog-title",children:"Excluir equipe ".concat(s.name)}),Object(W.jsxs)($.a,{children:[Object(W.jsx)(ee.a,{children:"Voc\xea tem certeza que deseja excluir a equipe ".concat(s.name,"?")}),Object(W.jsx)(ee.a,{children:"Esta a\xe7\xe3o \xe9 irrevers\xedvel."})]}),Object(W.jsxs)(te.a,{children:[Object(W.jsx)(q.a,{autoFocus:!0,onClick:m,color:"primary",children:"Cancelar"}),Object(W.jsx)(q.a,{onClick:function(){t.teamStore.removeTeam(s),m(),i.push("/teams")},color:"primary",children:"Confirmar"})]})]})]}):null}))),je=r(413),he=r(406),be=r(407),me=(r(350),Object(U.a)((function(e){var t=e.id,r=e.name,a=void 0===r?"":r,i=e.image,n=void 0===i?"":i,c=e.avatarSize,s=void 0===c?50:c,o=e.fontSize,l=void 0===o?16:o,u=e.disabled,d=void 0!==u&&u,j=Object(R.f)();return Object(W.jsxs)(ce.a,{className:"team",button:!d,onClick:function(){return d?null:j.push("/teams/".concat(t))},children:[Object(W.jsx)(se.a,{alt:a,src:n,className:"team__avatar",style:{width:s,height:s}}),Object(W.jsx)("div",{className:"team__data",children:Object(W.jsx)("div",{className:"team__name",style:{fontSize:l},children:a})})]})}))),ve=(r(351),Object(U.a)((function(){var e=F(),t=Object(R.g)(),r=Object(R.f)(),i=e.teamStore.teamList.find((function(e){return e.id===Number(t.id)})),n=Object(a.useState)(""),c=Object(u.a)(n,2),s=c[0],d=c[1],j=Object(a.useState)(""),h=Object(u.a)(j,2),b=h[0],m=h[1],v=Object(a.useState)([]),f=Object(u.a)(v,2),O=f[0],p=f[1],x=Object(a.useState)([]),g=Object(u.a)(x,2),_=g[0],S=g[1],E=function(){var t=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.teamStore.editTeam(i.id,{name:s,image:b,users:_});case 2:a=t.sent,r.push("/teams/".concat(a)),a&&alert("Suas altera\xe7\xf5es foram salvas.");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){d(i.name),m(i.image),S(i.users);var t=Object(y.a)(e.userStore.userList);i.users.forEach((function(e){t.forEach((function(r,a){r.id===e.id&&t.splice(a,1)}))})),p(t)}),[i]),Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(W.jsx)("div",{className:"screen create-team",children:Object(W.jsxs)(A.a,{maxWidth:"xl",children:[Object(W.jsx)("header",{className:"screen__header",children:Object(W.jsx)("h2",{children:"Editar equipe ".concat(i.name)})}),Object(W.jsxs)("main",{children:[Object(W.jsxs)("div",{className:"create-team__form",children:[Object(W.jsxs)("div",{className:"create-team__form__content",children:[Object(W.jsx)(je.a,{id:"team-name",label:"Nome",variant:"filled",value:s,onChange:function(e){d(e.target.value)}}),Object(W.jsx)(je.a,{id:"team-image",label:"Imagem",variant:"filled",value:b,onChange:function(e){m(e.target.value)}}),(null===s||void 0===s?void 0:s.length)||(null===b||void 0===b?void 0:b.length)?Object(W.jsx)("div",{className:"screen__header__preview",children:Object(W.jsx)(me,{name:s,image:b,avatarSize:80,fontSize:22,disabled:!0})}):null]}),Object(W.jsx)(q.a,{variant:"outlined",onClick:E,children:"Salvar Altera\xe7\xf5es"})]}),Object(W.jsxs)("div",{className:"create-team__user-lists",children:[Object(W.jsxs)("div",{className:"user-list",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Todos os colaboradores"})}),O.map((function(e){return Object(W.jsxs)("div",{className:"user-list__item",children:[Object(W.jsx)(oe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours,hourValue:null===e||void 0===e?void 0:e.hourValue,payment:null===e||void 0===e?void 0:e.payment},e.id),Object(W.jsx)(q.a,{className:"user-list__item__bt-add",onClick:function(){return t=e,r=O,a=_,console.log(t),p(ne.a.sortBy(r.filter((function(e){return e.id!==t.id})),"name")),void S(ne.a.sortBy([].concat(Object(y.a)(a),[t]),"name"));var t,r,a},children:Object(W.jsx)(he.a,{})})]},e.id)}))]}),Object(W.jsxs)("div",{className:"user-list",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Colaboradores na equipe"})}),_.map((function(e){return Object(W.jsxs)("div",{className:"user-list__item",children:[Object(W.jsx)(q.a,{className:"user-list__item__bt-add",onClick:function(){return t=e,r=O,a=_,S(ne.a.sortBy(a.filter((function(e){return e.id!==t.id})),"name")),void p(ne.a.sortBy([].concat(Object(y.a)(r),[t]),"name"));var t,r,a},children:Object(W.jsx)(be.a,{})}),Object(W.jsx)(oe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours,hourValue:null===e||void 0===e?void 0:e.hourValue,payment:null===e||void 0===e?void 0:e.payment})]},e.id)}))]})]})]})]})})}))),fe=(r(353),Object(U.a)((function(){var e=F(),t=Object(R.f)(),r=Object(a.useState)(""),i=Object(u.a)(r,2),n=i[0],c=i[1],s=Object(a.useState)(""),d=Object(u.a)(s,2),j=d[0],h=d[1],b=Object(a.useState)([]),m=Object(u.a)(b,2),v=m[0],f=m[1],O=Object(a.useState)([]),p=Object(u.a)(O,2),x=p[0],g=p[1],_=function(){var r=Object(l.a)(o.a.mark((function r(){var a;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=e.teamStore.createTeam({name:n,image:j,users:x}),e.teamStore.fetchTeamList(),t.push("/teams/".concat(a)),a&&alert("A equipe ".concat(n," foi criada."));case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Object(a.useEffect)((function(){f(e.userStore.userList),window.scrollTo(0,0)}),[]),Object(W.jsx)("div",{className:"screen create-team",children:Object(W.jsxs)(A.a,{maxWidth:"xl",children:[Object(W.jsx)("header",{className:"screen__header",children:Object(W.jsx)("h2",{children:"Criar equipe"})}),Object(W.jsxs)("main",{children:[Object(W.jsxs)("div",{className:"create-team__form",children:[Object(W.jsxs)("div",{className:"create-team__form__content",children:[Object(W.jsx)(je.a,{id:"team-name",label:"Nome",variant:"filled",value:n,onChange:function(e){c(e.target.value)}}),Object(W.jsx)(je.a,{id:"team-image",label:"Imagem",variant:"filled",value:j,onChange:function(e){h(e.target.value)}}),(null===n||void 0===n?void 0:n.length)||(null===j||void 0===j?void 0:j.length)?Object(W.jsx)("div",{className:"screen__header__preview",children:Object(W.jsx)(me,{name:n,image:j,avatarSize:80,fontSize:22,disabled:!0})}):null]}),Object(W.jsx)(q.a,{variant:"outlined",onClick:_,children:"Criar"})]}),Object(W.jsxs)("div",{className:"create-team__user-lists",children:[Object(W.jsxs)("div",{className:"user-list",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Todos os colaboradores"})}),v.map((function(e){return Object(W.jsxs)("div",{className:"user-list__item",children:[Object(W.jsx)(oe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours,hourValue:null===e||void 0===e?void 0:e.hourValue,payment:null===e||void 0===e?void 0:e.payment},e.id),Object(W.jsx)(q.a,{className:"user-list__item__bt-add",onClick:function(){return t=e,f(ne.a.sortBy(v.filter((function(e){return e.id!==t.id})),"name")),void g(ne.a.sortBy([].concat(Object(y.a)(x),[t]),"name"));var t},children:Object(W.jsx)(he.a,{})})]},e.id)}))]}),Object(W.jsxs)("div",{className:"user-list",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Colaboradores na equipe"})}),x.map((function(e){return Object(W.jsxs)("div",{className:"user-list__item",children:[Object(W.jsx)(q.a,{className:"user-list__item__bt-add",onClick:function(){return t=e,g(ne.a.sortBy(x.filter((function(e){return e.id!==t.id})),"name")),void f(ne.a.sortBy([].concat(Object(y.a)(v),[t]),"name"));var t},children:Object(W.jsx)(be.a,{})}),Object(W.jsx)(oe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours,hourValue:null===e||void 0===e?void 0:e.hourValue,payment:null===e||void 0===e?void 0:e.payment})]},e.id)}))]})]})]})]})})}))),Oe=r(408),pe=(r(354),Object(U.a)((function(){var e,t,r=F(),i=Object(R.f)(),n=Object(a.useState)(""),c=Object(u.a)(n,2),s=c[0],o=c[1],l=Object(a.useState)([]),d=Object(u.a)(l,2),j=d[0],h=d[1];return Object(a.useEffect)((function(){s.length?h(r.teamStore.teamList.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())}))):h(r.teamStore.teamList)}),[s]),Object(a.useEffect)((function(){h(r.teamStore.teamList),window.scrollTo(0,0)}),[]),Object(W.jsxs)("div",{className:"screen teams",children:[Object(W.jsxs)(A.a,{maxWidth:"xl",children:[Object(W.jsxs)("header",{className:"screen__header",children:[Object(W.jsx)("h2",{children:"Equipes"}),Object(W.jsx)("div",{className:"screen__header__right",children:(null===r||void 0===r||null===(e=r.teamStore)||void 0===e||null===(t=e.teamList)||void 0===t?void 0:t.length)?Object(W.jsx)(je.a,{id:"filter-term",label:"Filtro",variant:"filled",value:s,onChange:function(e){o(e.target.value)}}):null})]}),Object(W.jsx)("main",{children:(null===j||void 0===j?void 0:j.length)?j.map((function(e){return Object(W.jsx)(me,{id:e.id,name:null===e||void 0===e?void 0:e.name,image:null===e||void 0===e?void 0:e.image},e.id)})):Object(W.jsx)("div",{children:"Nenhuma equipe encontrada."})})]}),Object(W.jsx)(Y.a,{className:"teams__create-team",color:"primary","aria-label":"Criar equipe",onClick:function(){i.push("/teams/create")},children:Object(W.jsx)(Oe.a,{})})]})}))),xe=function(e){var t=e.data,r=void 0===t?{}:t;return Object(W.jsx)(le.b,{data:r,options:{responsive:!0,scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!1}}}})},ge=(r(355),Object(U.a)((function(e){var t=e.project,r=void 0===t?{}:t,a=e.time,i=void 0===a?"":a,n=e.description,c=void 0===n?"":n,s=e.disabled,o=void 0!==s&&s,l=Object(R.f)();return Object(W.jsxs)(ce.a,{button:!o,className:"time-entry",onClick:function(){return r.id?l.push("/projects/".concat(r.id)):null},style:{borderColor:r.color},children:[Object(W.jsx)("div",{className:"time-entry__top",children:Object(W.jsx)("div",{className:"time-entry__project-name",children:r.name})}),Object(W.jsxs)("div",{className:"time-entry__bottom",children:[Object(W.jsx)("div",{className:"time-entry__time",style:{borderColor:r.color},children:i.replace("PT","").replace("H","hr ").replace("M","min")}),"-",Object(W.jsx)("div",{className:"time-entry__description",children:c})]})]})}))),ye=(r(356),Object(U.a)((function(){var e,t=F(),r=Object(R.g)(),i=Object(a.useState)(null),n=Object(u.a)(i,2),c=n[0],s=n[1],o=t.userStore.userList.find((function(e){return e.id===r.id}));return Object(a.useEffect)((function(){s(o)}),[o]),Object(a.useEffect)((function(){t.userStore.fetchUserData(o),window.scrollTo(0,0)}),[]),c?Object(W.jsx)("div",{className:"screen user-detail",children:Object(W.jsxs)(A.a,{maxWidth:"xl",children:[Object(W.jsx)("header",{className:"screen__header",children:Object(W.jsxs)("div",{className:"screen__header__left",children:[Object(W.jsx)(se.a,{alt:null===c||void 0===c?void 0:c.name,src:null===c||void 0===c?void 0:c.profilePicture,className:"user-detail__avatar"}),Object(W.jsx)("h2",{children:null===c||void 0===c?void 0:c.name})]})}),Object(W.jsxs)("main",{children:[(null===c||void 0===c?void 0:c.teams.length)?Object(W.jsxs)("div",{className:"user-detail__teams",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Equipes do colaborador"})}),c.teams.map((function(e){return Object(W.jsx)(me,{id:e.id,name:null===e||void 0===e?void 0:e.name,image:null===e||void 0===e?void 0:e.image},e.id)}))]}):null,(null===c||void 0===c?void 0:c.timeEntries.length)?Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)("div",{className:"user-detail__chart",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Horas por dia"})}),Object(W.jsx)(xe,{data:{labels:c.timeEntriesByDay.map((function(e){return e.date})).reverse(),datasets:[{label:"Horas",data:c.timeEntriesByDay.map((function(e){return e.hours})).reverse(),backgroundColor:["rgba(255, 255, 255, 0.1)"],borderColor:["rgba(255, 255, 255, 0.1)"],borderWidth:1}]}})]})}):null,(null===c||void 0===c||null===(e=c.timeEntries)||void 0===e?void 0:e.length)?Object(W.jsx)("div",{className:"time-entries",children:c.timeEntriesByDay.map((function(e){return Object(W.jsxs)("div",{className:"time-entries__day",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:e.date})}),Object(W.jsx)("div",{className:"description",children:e.timeEntries.map((function(e){var t;return Object(W.jsx)(ge,{disabled:!(null===e||void 0===e||null===(t=e.project)||void 0===t?void 0:t.id),project:e.project,time:e.timeInterval.duration,description:e.description},e.id)}))})]},e.date)}))}):null,(null===c||void 0===c?void 0:c.timeEntries.length)?null:Object(W.jsx)("div",{children:"Nenhuma entrada encontrada para este usu\xe1rio no per\xedodo selecionado."})]})]})}):null}))),_e=Object(U.a)((function(){var e,t,r=F(),i=Object(a.useState)(""),n=Object(u.a)(i,2),c=n[0],s=n[1],o=Object(a.useState)([]),l=Object(u.a)(o,2),d=l[0],j=l[1];return Object(a.useEffect)((function(){c.length?j(r.userStore.userList.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())}))):j(r.userStore.userList)}),[c]),Object(a.useEffect)((function(){j(r.userStore.userList),window.scrollTo(0,0)}),[]),Object(W.jsx)("div",{className:"screen users",children:Object(W.jsxs)(A.a,{maxWidth:"xl",children:[Object(W.jsxs)("header",{className:"screen__header",children:[Object(W.jsx)("h2",{children:"Colaboradoes"}),(null===r||void 0===r||null===(e=r.userStore)||void 0===e||null===(t=e.userList)||void 0===t?void 0:t.length)?Object(W.jsx)(je.a,{id:"filter-term",label:"Filtro",variant:"filled",value:c,onChange:function(e){s(e.target.value)}}):null]}),Object(W.jsx)("main",{children:(null===d||void 0===d?void 0:d.length)?d.map((function(e){return Object(W.jsx)(oe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours,hourValue:null===e||void 0===e?void 0:e.hourValue,payment:null===e||void 0===e?void 0:e.payment},e.id)})):Object(W.jsx)("div",{children:"Nenhum colaborador encontrado."})})]})})})),Se=(r(357),Object(U.a)((function(e){var t=e.id,r=e.index,i=e.name,n=void 0===i?"":i,c=e.color,s=void 0===c?"":c,o=e.disabled,l=void 0!==o&&o,d=Object(a.useState)(!1),j=Object(u.a)(d,2),h=j[0],b=j[1],m=Object(R.f)();return Object(a.useEffect)((function(){var e=setTimeout((function(){b(!0)}),50*r+100);return function(){clearTimeout(e)}}),[]),Object(W.jsx)(ce.a,{button:!l,onClick:function(){return l?null:m.push("/projects/".concat(t))},className:"project",style:{borderColor:h?s:"transparent"},children:Object(W.jsx)("div",{className:"project__name",children:n})})}))),Ee=Object(U.a)((function(){var e,t,r=F(),i=Object(a.useState)(""),n=Object(u.a)(i,2),c=n[0],s=n[1],o=Object(a.useState)([]),l=Object(u.a)(o,2),d=l[0],j=l[1];return Object(a.useEffect)((function(){c.length?j(r.projectStore.projectList.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())}))):j(r.projectStore.projectList)}),[c]),Object(a.useEffect)((function(){j(r.projectStore.projectList),window.scrollTo(0,0)}),[]),Object(W.jsx)("div",{className:"screen projects",children:Object(W.jsxs)(A.a,{maxWidth:"xl",children:[Object(W.jsxs)("header",{className:"screen__header",children:[Object(W.jsx)("h2",{children:"Projetos"}),(null===r||void 0===r||null===(e=r.projectStore)||void 0===e||null===(t=e.projectList)||void 0===t?void 0:t.length)?Object(W.jsx)(je.a,{id:"filter-term",label:"Filtro",variant:"filled",value:c,onChange:function(e){s(e.target.value)}}):null]}),Object(W.jsx)("main",{children:(null===d||void 0===d?void 0:d.length)?d.map((function(e,t){return Object(W.jsx)(Se,{id:e.id,color:null===e||void 0===e?void 0:e.color,name:null===e||void 0===e?void 0:e.name,index:t},e.id)})):Object(W.jsx)("div",{children:"Nenhum projeto encontrado."})})]})})})),ke=(r(358),Object(U.a)((function(){var e,t,r=F(),i=Object(R.g)(),n=Object(a.useState)(null),c=Object(u.a)(n,2),s=c[0],o=c[1],l=r.projectStore.projectList.find((function(e){return e.id===i.id}));return Object(a.useEffect)((function(){o(l)}),[l]),Object(a.useEffect)((function(){r.projectStore.fetchProjectData(l),window.scrollTo(0,0)}),[]),s?Object(W.jsx)("div",{className:"screen project-detail",children:Object(W.jsxs)(A.a,{maxWidth:"xl",children:[Object(W.jsxs)("header",{className:"screen__header",children:[Object(W.jsx)("div",{className:"screen__header__left",children:Object(W.jsx)("h2",{children:null===s||void 0===s?void 0:s.name})}),Object(W.jsx)("div",{className:"screen__header__right",children:Object(W.jsxs)("div",{className:"project-detail__estimate",children:[Object(W.jsx)("div",{children:"Estimativa: ".concat(E(null===s||void 0===s?void 0:s.estimate.estimate)," horas")}),Object(W.jsx)("div",{children:"Total: ".concat(E(null===s||void 0===s?void 0:s.duration).toFixed(2)," horas")}),E(null===s||void 0===s?void 0:s.estimate.estimate)&&E(null===s||void 0===s?void 0:s.duration)?Object(W.jsx)("div",{children:"Esfor\xe7o: ".concat((E(null===s||void 0===s?void 0:s.duration)/E(null===s||void 0===s?void 0:s.estimate.estimate)*100).toFixed(2),"%")}):null]})})]}),Object(W.jsxs)("main",{children:[(null===s||void 0===s?void 0:s.fetchedTimeEntries)&&(null===s||void 0===s?void 0:s.timeEntriesByUser.length)?Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)("div",{className:"project-detail__chart",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Horas por colaborador"})}),Object(W.jsx)(ue,{data:{labels:ne.a.orderBy(s.timeEntriesByUser,"hours","desc").map((function(e){return e.name})),datasets:[{label:"Horas",data:ne.a.orderBy(s.timeEntriesByUser,"hours","desc").map((function(e){return(null===e||void 0===e?void 0:e.hours)?e.hours.toFixed(2):0})),backgroundColor:["".concat(s.color,"85")],borderWidth:0}]}})]})}):null,(null===s||void 0===s||null===(e=s.timeEntriesByUser)||void 0===e?void 0:e.length)?Object(W.jsxs)("div",{className:"user-list",children:[Object(W.jsx)("header",{className:"section-header",children:Object(W.jsx)("h3",{children:"Colaboradores no projeto"})}),s.timeEntriesByUser.map((function(e){return Object(W.jsx)(oe,{id:e.id,profilePicture:null===e||void 0===e?void 0:e.profilePicture,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,hours:null===e||void 0===e?void 0:e.hours,hourValue:null===e||void 0===e?void 0:e.hourValue,payment:null===e||void 0===e?void 0:e.payment},e.id)}))]}):null,!(null===s||void 0===s?void 0:s.fetchedTimeEntries)||(null===s||void 0===s?void 0:s.timeEntriesByUser.length)||(null===s||void 0===s||null===(t=s.timeEntriesByUser)||void 0===t?void 0:t.length)?null:Object(W.jsx)("div",{children:"Nenhuma entrada encontrada para este projeto no per\xedodo selecionado."})]})]})}):null}))),Ne=r(409),Le=r(412),we=(r(359),new Date),Te=Object(U.a)((function(){var e,t,r,i,n,c,s=F(),d=Object(a.useState)(""),j=Object(u.a)(d,2),h=j[0],b=j[1],m=Object(a.useState)(!1),v=Object(u.a)(m,2),f=v[0],x=v[1],g=p("clockify-api-key"),y=Object(u.a)(g,1)[0],_=Object(a.useState)(new Date(we.getFullYear(),we.getMonth(),1)),S=Object(u.a)(_,2),E=S[0],k=S[1],N=Object(a.useState)(new Date(we.getFullYear(),we.getMonth()+1,0)),L=Object(u.a)(N,2),w=L[0],T=L[1],C=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,Object(O.flowResult)(s.authStore.authenticate(h));case 3:x(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.userStore.setQueryDate(E,w),x(!0),e.next=4,Object(O.flowResult)(s.projectStore.fetchProjectList());case 4:return e.next=6,Object(O.flowResult)(s.userStore.fetchUserList());case 6:return e.next=8,Object(O.flowResult)(s.userStore.fetchAllUsersTimeEntries());case 8:s.teamStore.fetchTeamList(),x(!1),s.authStore.confirmIdentity();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=document.querySelector(".login .fetch-data-log");e&&(e.scrollTop=e.scrollHeight)}),[s.authStore.fetchDataLog.length]),Object(a.useEffect)((function(){(null===y||void 0===y?void 0:y.length)&&b(y)}),[]),Object(W.jsx)("div",{className:"screen login",children:Object(W.jsxs)(A.a,{maxWidth:"xl",className:"login__container",children:[Object(W.jsx)("h1",{children:"Clockify Teams"}),Object(W.jsx)("div",{className:"login__box",children:s.authStore.isConfirmingIdentity?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(oe,{disabled:!0,name:null===s||void 0===s||null===(e=s.authStore)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name,profilePicture:null===s||void 0===s||null===(r=s.authStore)||void 0===r||null===(i=r.user)||void 0===i?void 0:i.profilePicture,email:null===s||void 0===s||null===(n=s.authStore)||void 0===n||null===(c=n.user)||void 0===c?void 0:c.email}),Object(W.jsxs)("div",{className:"query-date",children:[Object(W.jsx)(Le.a,{margin:"normal",id:"start-date",label:"Data inicial",format:"dd/MM/yyyy",value:E,onChange:k,KeyboardButtonProps:{"aria-label":"Selecione a data inicial"}}),Object(W.jsx)(Le.a,{margin:"normal",id:"end-date",label:"Data final",format:"dd/MM/yyyy",value:w,onChange:T,KeyboardButtonProps:{"aria-label":"Selecione a data final"}})]}),Object(W.jsx)("div",{className:"fetch-data-log",children:s.authStore.fetchDataLog.map((function(e){var t=e.text,r=e.color;return Object(W.jsx)("div",{style:{color:r},children:t},t)}))}),f||s.authStore.autoLogin?Object(W.jsx)(Ne.a,{}):Object(W.jsx)(q.a,{variant:"outlined",onClick:D,children:"Entrar"})]}):Object(W.jsxs)(W.Fragment,{children:[s.authStore.autoLogin?null:Object(W.jsx)(je.a,{id:"api-key",label:"Clockify API Key",variant:"filled",value:h,onChange:function(e){b(e.target.value)}}),f||s.authStore.autoLogin?Object(W.jsx)(Ne.a,{}):Object(W.jsx)(q.a,{variant:"outlined",onClick:C,children:"Autenticar"})]})})]})})})),Ce=Object(U.a)((function(){var e,t=F();return Object(W.jsx)(I.a,{children:(null===t||void 0===t||null===(e=t.authStore)||void 0===e?void 0:e.isAuthenticated)?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(X,{}),Object(W.jsxs)(R.c,{children:[Object(W.jsx)(R.a,{path:"/teams/edit/:id",children:Object(W.jsx)(ve,{})}),Object(W.jsx)(R.a,{path:"/teams/create",children:Object(W.jsx)(fe,{})}),Object(W.jsx)(R.a,{path:"/teams/:id",children:Object(W.jsx)(de,{})}),Object(W.jsx)(R.a,{path:"/teams",children:Object(W.jsx)(pe,{})}),Object(W.jsx)(R.a,{path:"/users/:id",children:Object(W.jsx)(ye,{})}),Object(W.jsx)(R.a,{path:"/users",children:Object(W.jsx)(_e,{})}),Object(W.jsx)(R.a,{path:"/projects/:id",children:Object(W.jsx)(ke,{})}),Object(W.jsx)(R.a,{path:"/",children:Object(W.jsx)(Ee,{})})]})]}):Object(W.jsx)(R.c,{children:Object(W.jsx)(R.a,{path:"/",children:Object(W.jsx)(Te,{})})})})})),De=r(171),Pe=r(410),Be=r(411),Fe={palette:{type:"dark",primary:{main:"#ecf0f1"}}},Ie=function(e){var t=e.children,r=Object(De.a)(Fe);return Object(W.jsxs)(Pe.a,{theme:r,children:[Object(W.jsx)(Be.a,{}),t]})},Re=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),r=t[0],i=t[1],n=p("clockify-api-key"),c=Object(u.a)(n,1)[0],s=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(d.wrapRoot)({RootStore:D,env:m}),i(t),!(null===c||void 0===c?void 0:c.length)){e.next=7;break}return t.authStore.setAutoLogin(!0),e.next=6,Object(O.flowResult)(t.authStore.authenticate(c));case 6:t.authStore.setAutoLogin(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){s()}),[]),r?Object(W.jsx)("div",{className:"app",children:Object(W.jsx)(B,{value:r,children:Object(W.jsx)(j.a,{utils:h.a,children:Object(W.jsx)(Ie,{children:Object(W.jsx)(Ce,{})})})})}):null};r(360),r(361),r(362),r(363);c.a.render(Object(W.jsx)(i.a.StrictMode,{children:Object(W.jsx)(Re,{})}),document.getElementById("root"))}},[[364,1,2]]]);
//# sourceMappingURL=main.cecd90eb.chunk.js.map